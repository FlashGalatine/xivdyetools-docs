<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XIV Dye Tools V4 Prototype</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Swatch Matcher Styles */
        .matcher-view {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 32px;
            gap: 24px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .matcher-layout {
            display: flex;
            gap: 24px;
            min-height: 500px;
            justify-content: center;
        }

        .matcher-grid-container {
            flex: 0 0 auto;
            /* Don't grow, size to content/width */
            width: 340px;
            /* Fixed width for 8 cols approx */
            background: var(--bg-panel);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 16px;
            box-shadow: var(--shadow-soft);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .color-sheet-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 4px;
            margin-top: 12px;
        }

        .sheet-swatch {
            width: 32px;
            height: 32px;
            border-radius: 4px;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.1s, border-color 0.1s;
        }

        .sheet-swatch:hover {
            transform: scale(1.15);
            z-index: 10;
            border-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }

        .sheet-swatch.selected {
            border: 2px solid #fff;
            box-shadow: 0 0 0 2px var(--accent-primary);
            z-index: 5;
        }

        .matcher-results-area {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .matcher-selected-card {
            width: 100%;
            max-width: 400px;
        }

        .matcher-matches-section {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
    </style>
</head>

<body>

    <!-- Simple App Header -->
    <header class="app-header">
        <div class="logo-section">
            <!-- Paint Bucket Logo SVG -->
            <svg class="logo-icon" viewBox="0 0 24 24">
                <path
                    d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z" />
                <path d="M10 12h4v4h-4z" /> <!-- Placeholder bucket shape -->
            </svg>
            <span>XIV Dye Tools</span>
        </div>
        <div class="nav-controls">
            <button class="nav-btn" title="About">
                <svg class="icon" viewBox="0 0 24 24">
                    <path
                        d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z" />
                </svg>
            </button>
            <button class="nav-btn" title="Language">
                <svg class="icon" viewBox="0 0 24 24">
                    <path
                        d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.91-4.33-3.56zm2.95-8H5.08c.96-1.65 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-1.01 1.74-2.59 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z" />
                </svg>
            </button>
            <button class="nav-btn" title="Theme" id="header-theme-btn">
                <svg class="icon" viewBox="0 0 24 24">
                    <path
                        d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z" />
                </svg>
            </button>
        </div>
    </header>

    <!-- Tool Selection Banner -->
    <nav class="tool-banner">
        <!-- 8 Icons -->
        <button class="tool-btn" title="Harmony Explorer">
            <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10" opacity="0.3" />
                <circle cx="12" cy="3" r="2.5" fill="currentColor" stroke="none" />
                <circle cx="20.66" cy="16.5" r="2.5" fill="currentColor" stroke="none" />
                <circle cx="3.34" cy="16.5" r="2.5" fill="currentColor" stroke="none" />
                <polygon points="12,3 20.66,16.5 3.34,16.5" fill="none" opacity="0.5" />
            </svg>
            <span class="tool-label">Harmony</span>
        </button>
        <button class="tool-btn" title="Swatch Matcher">
            <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="7" r="4" opacity="0.7" />
                <path d="M5.5 21c0-4.5 3-7 6.5-7s6.5 2.5 6.5 7" opacity="0.4" />
                <rect x="16" y="11" width="3" height="3" rx="0.5" fill="currentColor" stroke="none" />
                <rect x="16" y="15" width="3" height="3" rx="0.5" fill="currentColor" stroke="none" opacity="0.6" />
                <rect x="16" y="19" width="3" height="3" rx="0.5" fill="currentColor" stroke="none" opacity="0.3" />
            </svg>
            <span class="tool-label">Matcher</span>
        </button>
        <button class="tool-btn active" title="Palette Extractor">
            <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10" opacity="0.3" />
                <circle cx="12" cy="12" r="6.5" opacity="0.5" />
                <circle cx="12" cy="12" r="3.5" opacity="0.7" />
                <circle cx="12" cy="12" r="1.5" fill="currentColor" stroke="none" />
            </svg>
            <span class="tool-label">Extractor</span>
        </button>
        <button class="tool-btn" title="Accessibility Checker">
            <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M 2 12 Q 12 5 22 12 Q 12 19 2 12 Z" />
                <circle cx="12" cy="12" r="3.5" />
                <circle cx="12" cy="12" r="1.5" fill="currentColor" stroke="none" />
            </svg>
            <span class="tool-label">Accessibility</span>
        </button>
        <button class="tool-btn" title="Dye Comparison">
            <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <rect x="9" y="4" width="11" height="11" rx="2" opacity="0.4" />
                <rect x="4" y="9" width="11" height="11" rx="2" />
                <path d="M16 19l2 2 4-4" opacity="0.6" />
                <path d="M8 12h.01" stroke-width="3" />
                <path d="M13 7h.01" stroke-width="3" opacity="0.4" />
            </svg>
            <span class="tool-label">Compare</span>
        </button>
        <button class="tool-btn" title="Gradient Builder">
            <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round">
                <path
                    d="M 4 8 C 4 6 5 5 7 5 L 17 5 C 19 5 20 6 20 8 L 20 16 C 20 18 19 19 17 19 L 7 19 C 5 19 4 18 4 16 Z" />
                <circle cx="18" cy="16" r="1.5" fill="currentColor" stroke="none" />
                <circle cx="8" cy="10" r="2" opacity="0.5" />
                <circle cx="12" cy="10" r="2" opacity="0.5" />
                <circle cx="16" cy="10" r="2" opacity="0.5" />
                <line x1="6" y1="15" x2="10" y2="15" stroke-width="2" />
                <path d="M 10 15 L 12 13 L 12 17 Z" fill="currentColor" stroke="none" opacity="0.7" />
            </svg>
            <span class="tool-label">Gradient</span>
        </button>
        <button class="tool-btn" title="Dye Mixer">
            <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 5l-8 14h16l-8-14zM12 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" opacity="0.5" />
                <path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" fill="currentColor" stroke="none" />
            </svg>
            <span class="tool-label">Mixer</span>
        </button>
        <button class="tool-btn" title="Preset Palettes">
            <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="18" height="18" rx="2" opacity="0.3" />
                <rect x="5" y="6" width="4" height="5" rx="0.5" fill="currentColor" stroke="none" opacity="0.6" />
                <rect x="10" y="6" width="4" height="5" rx="0.5" fill="currentColor" stroke="none" opacity="0.8" />
                <rect x="15" y="6" width="4" height="5" rx="0.5" fill="currentColor" stroke="none" />
                <path d="M6 14h12" opacity="0.4" />
                <path d="M6 17h8" opacity="0.4" />
                <path d="M17 13v5l2-1.5 2 1.5v-5" opacity="0.7" />
            </svg>
            <span class="tool-label">Presets</span>
        </button>
        <button class="tool-btn" title="Budget Suggestions">
            <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="9" opacity="0.3" />
                <path d="M12 6v2m0 8v2" />
                <path d="M9 10c0-1.1.9-2 2-2h2c1.1 0 2 .9 2 2s-.9 2-2 2h-2c-1.1 0-2 .9-2 2s.9 2 2 2h2c1.1 0 2-.9 2-2" />
                <path d="M17 7l2-2m0 0l2 2m-2-2v5" opacity="0.7" />
            </svg>
            <span class="tool-label">Budget</span>
        </button>

    </nav>

    <!-- Main Content Area -->
    <div class="app-container">

        <!-- Configuration Sidebar -->
        <aside class="config-sidebar">
            <div class="drawer-header">
                <span class="drawer-title">Configuration</span>
            </div>
            <div class="drawer-content">

                <!-- Global Configuration -->
                <div class="config-global">
                    <div class="config-group">
                        <div class="config-label">Theme</div>
                        <div class="config-control" style="flex-direction: column; gap: 8px; align-items: stretch;">
                            <select id="theme-select"
                                style="width:100%; padding: 8px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); color: var(--text-primary); border-radius: 4px; cursor: pointer;">
                                <option value="">Default (Premium Dark)</option>
                                <option value="theme-standard-light">Standard Light</option>
                                <option value="theme-standard-dark">Standard Dark</option>
                                <option value="theme-hydaelyn-light">Hydaelyn</option>
                                <option value="theme-og-classic-dark">OG Classic</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Harmony Configuration -->
                <div class="config-section harmony-config" style="display: none;">
                    <div class="config-group">
                        <div class="config-label">Harmony Type</div>
                        <div class="config-control">
                            <span>Tetradic</span>
                            <svg class="icon" viewBox="0 0 24 24" style="width: 16px;">
                                <path d="M7 10l5 5 5-5z" />
                            </svg>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-label">Display Options</div>
                        <div class="config-control">
                            <span>Color Names</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>Hex Codes</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>RGB Values</span>
                            <div class="toggle-switch"></div>
                        </div>
                        <div class="config-control">
                            <span>HSV Values</span>
                            <div class="toggle-switch active"></div>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-label">Filters</div>
                        <div class="config-control">
                            <span>Strict Matching</span>
                            <div class="toggle-switch"></div>
                        </div>
                    </div>
                </div>

                <!-- Gradient Configuration -->
                <div class="config-section gradient-config" style="display: none;">
                    <div class="config-group">
                        <div class="config-label">Gradient Steps</div>
                        <div class="config-control" style="flex-direction: column; align-items: flex-start; gap: 8px;">
                            <div style="display: flex; justify-content: space-between; width: 100%;">
                                <span style="font-size: 11px; color: var(--text-secondary);">Count: <span
                                        id="step-count-val">8</span></span>
                            </div>
                            <input type="range" class="step-slider" min="1" max="8" value="8" style="width: 100%;">
                        </div>
                    </div>
                    <div class="config-group">
                        <div class="config-label">Interpolation</div>
                        <div class="config-control">
                            <span>Linear</span>
                            <svg class="icon" viewBox="0 0 24 24" style="width: 16px;">
                                <path d="M7 10l5 5 5-5z" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Palette Extractor Configuration -->
                <div class="config-section extractor-config">
                    <div class="config-group">
                        <div class="config-label">Extraction Settings</div>
                        <div class="config-control">
                            <span>Vibrancy Boost</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control" style="flex-direction: column; align-items: flex-start; gap: 8px;">
                            <div style="display: flex; justify-content: space-between; width: 100%;">
                                <span style="font-size: 11px; color: var(--text-secondary);">Max Colors:
                                    <span>8</span></span>
                            </div>
                            <input type="range" class="step-slider" min="3" max="10" value="8" style="width: 100%;">
                        </div>
                    </div>
                </div>

                <!-- Budget Suggestions Configuration -->
                <div class="config-section budget-config" style="display: none;">
                    <div class="config-group">
                        <div class="config-label">Budget Limit</div>
                        <div class="config-control" style="flex-direction: column; align-items: flex-start; gap: 8px;">
                            <div style="display: flex; justify-content: space-between; width: 100%;">
                                <span style="font-size: 11px; color: var(--text-secondary);">Max Price</span>
                                <span style="font-size: 11px; font-weight: 600;">200,000 gil</span>
                            </div>
                            <input type="range" class="step-slider" min="0" max="200000" step="5000" value="200000"
                                style="width: 100%;">
                            <div
                                style="display: flex; justify-content: space-between; width: 100%; font-size: 9px; color: var(--text-secondary);">
                                <span>0</span>
                                <span>50K</span>
                                <span>100K</span>
                                <span>150K</span>
                                <span>200K</span>
                            </div>
                        </div>
                        <div class="config-control" style="flex-direction: column; align-items: flex-start; gap: 8px;">
                            <div style="display: flex; justify-content: space-between; width: 100%;">
                                <span style="font-size: 11px; color: var(--text-secondary);">Max Results</span>
                                <span style="font-size: 11px; font-weight: 600;">8</span>
                            </div>
                            <input type="range" class="step-slider" min="1" max="20" value="8" style="width: 100%;">
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-label">Color Distance</div>
                        <div class="config-control" style="flex-direction: column; align-items: flex-start; gap: 8px;">
                            <div style="display: flex; justify-content: space-between; width: 100%;">
                                <span style="font-size: 11px; color: var(--text-secondary);">Max Delta-E</span>
                                <span style="font-size: 11px; font-weight: 600;">75</span>
                            </div>
                            <input type="range" class="step-slider" min="0" max="100" value="75" style="width: 100%;">
                        </div>
                    </div>
                </div>

                <!-- Dye Mixer Configuration -->
                <div class="config-section mixer-config" style="display: none;">
                    <div class="config-group">
                        <div class="config-label">Result Settings</div>
                        <div class="config-control" style="flex-direction: column; align-items: flex-start; gap: 8px;">
                            <div style="display: flex; justify-content: space-between; width: 100%;">
                                <span style="font-size: 11px; color: var(--text-secondary);">Max Results: <span
                                        id="mixer-count-val">3</span></span>
                            </div>
                            <!-- Default 3, Max 8 -->
                            <input type="range" class="step-slider" id="mixer-result-slider" min="3" max="8" value="3"
                                style="width: 100%;">
                        </div>
                    </div>
                </div>

                <!-- Accessibility Checker Configuration -->
                <div class="config-section accessibility-config" style="display: none;">
                    <div class="config-group">
                        <div class="config-label">Vision Types</div>
                        <div class="config-control">
                            <span>Normal Vision</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>Deuteranopia</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>Protanopia</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>Tritanopia</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>Achromatopsia</span>
                            <div class="toggle-switch active"></div>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-label">Display Options</div>
                        <div class="config-control">
                            <span>Show Labels</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>Show Hex Values</span>
                            <div class="toggle-switch"></div>
                        </div>
                        <div class="config-control">
                            <span>High Contrast Mode</span>
                            <div class="toggle-switch"></div>
                        </div>
                    </div>
                </div>

                <!-- Swatch Matcher Configuration -->
                <div class="config-section matcher-config" style="display: none;">
                    <div class="config-group">
                        <div class="config-label">Color Sheet</div>
                        <div class="config-control" style="flex-direction: column; gap: 8px; align-items: stretch;">
                            <select class="matcher-select" id="matcher-sheet-select"
                                style="width:100%; padding: 8px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); color: var(--text-primary); border-radius: 4px;">
                                <option selected>EyeColors.csv</option>
                                <option disabled>HairColors.csv (N/A)</option>
                                <option disabled>SkinColors.csv (N/A)</option>
                            </select>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-label">Character</div>
                        <div class="config-control" style="flex-direction: column; gap: 8px; align-items: stretch;">
                            <span style="font-size: 11px; color: var(--text-secondary);">Race</span>
                            <select class="matcher-select" id="matcher-race-select"
                                style="width:100%; padding: 8px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); color: var(--text-primary); border-radius: 4px;">
                                <option selected>Hyur (Midlander)</option>
                                <option>Hyur (Highlander)</option>
                                <option>Elezen</option>
                                <option>Lalafell</option>
                                <option>Miqo'te</option>
                                <option>Roegadyn</option>
                                <option>Au Ra</option>
                                <option>Hrothgar</option>
                                <option>Viera</option>
                            </select>
                        </div>
                        <div class="config-control"
                            style="flex-direction: column; gap: 8px; align-items: stretch; margin-top: 8px;">
                            <span style="font-size: 11px; color: var(--text-secondary);">Gender</span>
                            <select class="matcher-select" id="matcher-gender-select"
                                style="width:100%; padding: 8px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); color: var(--text-primary); border-radius: 4px;">
                                <option selected>Male</option>
                                <option>Female</option>
                            </select>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-label">Search Settings</div>
                        <div class="config-control" style="flex-direction: column; align-items: flex-start; gap: 8px;">
                            <div style="display: flex; justify-content: space-between; width: 100%;">
                                <span style="font-size: 11px; color: var(--text-secondary);">Max Results</span>
                                <span style="font-size: 11px; font-weight: 600;" id="matcher-count-val">3</span>
                            </div>
                            <input type="range" class="step-slider" id="matcher-result-slider" min="1" max="8" value="3"
                                style="width: 100%;">
                        </div>
                    </div>
                </div>

                <!-- Dye Comparison Configuration -->
                <div class="config-section comparison-config" style="display: none;">
                    <div class="config-group">
                        <div class="config-label">Display Options</div>
                        <div class="config-control">
                            <span>Show Labels</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>Show Hex Values</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>Show Statistics</span>
                            <div class="toggle-switch active"></div>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-label">Chart Options</div>
                        <div class="config-control">
                            <span>Show Grid Lines</span>
                            <div class="toggle-switch active"></div>
                        </div>
                        <div class="config-control">
                            <span>Animate Transitions</span>
                            <div class="toggle-switch active"></div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>


        <main class="content-area">
            <!-- Harmony Explorer View -->
            <div class="harmony-view" style="display: none;">

                <div class="harmony-circle-container">
                    <div class="harmony-ring"></div>

                    <!-- Connection Lines (Dashed - Tetradic Shape) -->
                    <div class="harmony-line"
                        style="width: 100px; transform: rotate(30deg); border-top: 1px dashed rgba(255,255,255,0.6);">
                    </div>
                    <div class="harmony-line"
                        style="width: 100px; transform: rotate(120deg); border-top: 1px dashed rgba(255,255,255,0.6);">
                    </div>
                    <div class="harmony-line"
                        style="width: 100px; transform: rotate(210deg); border-top: 1px dashed rgba(255,255,255,0.6);">
                    </div>
                    <div class="harmony-line"
                        style="width: 100px; transform: rotate(300deg); border-top: 1px dashed rgba(255,255,255,0.6);">
                    </div>

                    <!-- Nodes (Roughly Tetradic/Rectangular) -->
                    <!-- Base: ~30deg -->
                    <div class="harmony-node main" style="top: 25%; left: 75%; background-color: #6d5440;"
                        title="Opo-opo Brown (Base)"></div>
                    <!-- Node 2: ~120deg -->
                    <div class="harmony-node" style="top: 80%; left: 65%; background-color: #BACFAA;"
                        title="Pastel Green">
                    </div>
                    <!-- Node 3: ~210deg -->
                    <div class="harmony-node" style="top: 75%; left: 25%; background-color: #111111;" title="Void Blue">
                    </div>
                    <!-- Node 4: ~300deg -->
                    <div class="harmony-node" style="top: 15%; left: 35%; background-color: #8c2530;"
                        title="Rolanberry Red"></div>

                    <div class="main-swatch-display" title="Base Color: Opo-opo Brown"></div>
                    <span class="harmony-label">Tetradic</span>
                </div>

                <div class="harmony-results">
                    <!-- Base Match (Opo-opo Brown) -->
                    <div class="harmony-card">
                        <div class="card-header">
                            <span class="dye-name">Opo-opo Brown</span>
                        </div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6d5440;">
                                <span class="preview-label">Original</span>
                            </div>
                            <div class="preview-half" style="background-color: #6d5440;">
                                <span class="preview-label">Exact</span>
                            </div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row">
                                    <span class="data-label">ΔE</span>
                                    <span class="data-value" style="color:#4caf50;">0.00</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">HEX</span>
                                    <span class="data-value">#6D5440</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">RGB</span>
                                    <span class="data-value">109,84,64</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">HSV</span>
                                    <span class="data-value">30,30,43</span>
                                </div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row">
                                    <span class="data-label">Source</span>
                                    <span class="data-value">Vendor</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">Cost</span>
                                    <span class="data-value">40 G</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">Market</span>
                                    <span class="data-value">Balmung</span>
                                </div>
                                <div class="data-row">
                                    <span class="price-large">45 G</span>
                                </div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>

                                <div class="context-menu-container">
                                    <button class="context-menu-btn active">
                                        <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                            <path
                                                d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                        </svg>
                                    </button>
                                    <!-- Visible Menu for Demo -->
                                    <div class="context-menu visible">
                                        <div class="menu-item">
                                            <svg class="menu-icon" viewBox="0 0 24 24">
                                                <path
                                                    d="M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v-2h2v2h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-5v2h-2V3z" />
                                            </svg>
                                            Add to Comparison
                                        </div>
                                        <div class="menu-item">
                                            <svg class="menu-icon" viewBox="0 0 24 24">
                                                <path d="M12 2L2 22h20L12 2zm0 3l8 15H4l8-15z" />
                                            </svg>
                                            Add to Mixer
                                        </div>
                                        <div class="menu-item">
                                            <svg class="menu-icon" viewBox="0 0 24 24">
                                                <path
                                                    d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z" />
                                            </svg>
                                            Add to Access. Check
                                        </div>
                                        <div class="menu-item">
                                            <svg class="menu-icon" viewBox="0 0 24 24">
                                                <circle cx="12" cy="12" r="10" />
                                            </svg>
                                            See Color Harmonies
                                        </div>
                                        <div class="menu-item">
                                            <svg class="menu-icon" viewBox="0 0 24 24">
                                                <path
                                                    d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z" />
                                            </svg>
                                            Budget Suggestions
                                        </div>
                                        <div class="menu-item">
                                            <svg class="menu-icon" viewBox="0 0 24 24">
                                                <path
                                                    d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" />
                                            </svg>
                                            Copy Hex Code
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Match 2 (Ink Blue) -->
                    <div class="harmony-card">
                        <div class="card-header">
                            <span class="dye-name">Ink Blue</span>
                        </div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #40596D;">
                                <span class="preview-label">Original</span>
                            </div>
                            <div class="preview-half" style="background-color: #1A1A1A;">
                                <span class="preview-label">Match</span>
                            </div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row">
                                    <span class="data-label">ΔE</span>
                                    <span class="data-value">2.45</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">HEX</span>
                                    <span class="data-value">#1A1A1A</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">RGB</span>
                                    <span class="data-value">26,26,26</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">HSV</span>
                                    <span class="data-value">0,0,10</span>
                                </div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row">
                                    <span class="data-label">Source</span>
                                    <span class="data-value">Sahagin</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">Cost</span>
                                    <span class="data-value">216 G</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">Market</span>
                                    <span class="data-value">Halicarnassus</span>
                                </div>
                                <div class="data-row">
                                    <span class="price-large">2,500 G</span>
                                </div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                                <div class="context-menu-container">
                                    <button class="context-menu-btn">
                                        <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                            <path
                                                d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Match 3 (Void Blue) -->
                    <div class="harmony-card">
                        <div class="card-header">
                            <span class="dye-name">Void Blue</span>
                        </div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6B406D;">
                                <span class="preview-label">Original</span>
                            </div>
                            <div class="preview-half" style="background-color: #111111;">
                                <span class="preview-label">Match</span>
                            </div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row">
                                    <span class="data-label">ΔE</span>
                                    <span class="data-value" style="color:#ffc107;">6.12</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">HEX</span>
                                    <span class="data-value">#111111</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">RGB</span>
                                    <span class="data-value">17,17,17</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">HSV</span>
                                    <span class="data-value">0,0,7</span>
                                </div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row">
                                    <span class="data-label">Source</span>
                                    <span class="data-value">Crafted</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">Cost</span>
                                    <span class="data-value">---</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">Market</span>
                                    <span class="data-value">North America</span>
                                </div>
                                <div class="data-row">
                                    <span class="price-large">2,500 G</span>
                                </div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                                <div class="context-menu-container">
                                    <button class="context-menu-btn">
                                        <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                            <path
                                                d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Match 4 (Rolanberry Red) - NEW -->
                    <div class="harmony-card">
                        <div class="card-header">
                            <span class="dye-name">Rolanberry Red</span>
                        </div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6d5440;">
                                <span class="preview-label">Original</span>
                            </div>
                            <div class="preview-half" style="background-color: #8c2530;">
                                <span class="preview-label">Match</span>
                            </div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row">
                                    <span class="data-label">ΔE</span>
                                    <span class="data-value">5.8</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">HEX</span>
                                    <span class="data-value">#8C2530</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">RGB</span>
                                    <span class="data-value">140,37,48</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">HSV</span>
                                    <span class="data-value">354,74,55</span>
                                </div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row">
                                    <span class="data-label">Source</span>
                                    <span class="data-value">Vendor</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">Cost</span>
                                    <span class="data-value">40 G</span>
                                </div>
                                <div class="data-row">
                                    <span class="data-label">Market</span>
                                    <span class="data-value">Balmung</span>
                                </div>
                                <div class="data-row">
                                    <span class="price-large">100 G</span>
                                </div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                                <div class="context-menu-container">
                                    <button class="context-menu-btn">
                                        <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                            <path
                                                d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Palette Extractor View -->
            <div class="palette-extractor-view">
                <div class="extractor-layout">
                    <!-- Image Input Area -->
                    <div class="image-input-section">
                        <div class="image-drop-zone">
                            <div class="drop-content">
                                <svg class="drop-icon" viewBox="0 0 24 24">
                                    <path
                                        d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" />
                                </svg>
                                <span class="drop-text">Drop image here or click to upload</span>
                                <span class="drop-subtext">Supports PNG, JPG, WebP</span>
                            </div>
                            <!-- Simulated Uploaded Image (Hidden by default, shown for mockup) -->
                            <img src="" alt="Uploaded source" class="uploaded-image-preview"
                                style="display: block; background-color: #333; height: 100%; width: 100%; object-fit: cover; opacity: 0.5;">

                            <!-- Zoom Controls Overlay -->
                            <div class="zoom-controls">
                                <button class="zoom-btn" title="Fit to Screen">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M4 4h16v16H4V4zm2 2v12h12V6H6z" />
                                    </svg>
                                </button>
                                <button class="zoom-btn" title="Fit Width">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M21 4H3v16h18V4zm-2 14H5V6h14v12z" />
                                        <path d="M12 7l-3 3h2v4H9l3 3 3-3h-2V10h2l-3-3z" />
                                    </svg>
                                </button>
                                <div class="zoom-separator"></div>
                                <button class="zoom-btn" title="Zoom Out">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M19 13H5v-2h14v2z" />
                                    </svg>
                                </button>
                                <button class="zoom-btn" title="Current Zoom">
                                    <span class="zoom-level">100%</span>
                                </button>
                                <button class="zoom-btn" title="Zoom In">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                                    </svg>
                                </button>
                                <div class="zoom-separator"></div>
                                <button class="zoom-btn" title="Reset">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-8 3.58-8 8s3.58 8 8 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
                                    </svg>
                                </button>
                            </div>
                            <!-- Placeholder color -->
                        </div>
                    </div>

                    <!-- Extraction Results -->
                    <div class="extractor-results-section">
                        <div class="section-header">
                            <span class="section-title">Extracted Palette (8 Colors)</span>
                            <div class="palette-actions">
                                <button class="action-btn-text">Export All</button>
                                <button class="action-btn-text">Save Preset</button>
                            </div>
                        </div>

                        <div class="extractor-results-grid">
                            <!-- Result Card 1 -->
                            <div class="harmony-card">
                                <div class="card-header"><span class="dye-name">Opo-opo Brown</span></div>
                                <div class="card-preview">
                                    <div class="preview-half" style="background-color: #5c4d3c;"><span
                                            class="preview-label">Source</span></div>
                                    <div class="preview-half" style="background-color: #6d5440;"><span
                                            class="preview-label">Match</span></div>
                                </div>
                                <div class="card-details">
                                    <div class="detail-col">
                                        <div class="col-header">Technical</div>
                                        <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                                style="color:#4caf50;">1.2</span></div>
                                        <div class="data-row"><span class="data-label">HEX</span><span
                                                class="data-value">#6D5440</span></div>
                                        <div class="data-row"><span class="data-label">RGB</span><span
                                                class="data-value">109,84,64</span></div>
                                        <div class="data-row"><span class="data-label">HSV</span><span
                                                class="data-value">30,30,43</span></div>
                                    </div>
                                    <div class="detail-col">
                                        <div class="col-header">Acquisition</div>
                                        <div class="data-row"><span class="data-label">Source</span><span
                                                class="data-value">Vendor</span></div>
                                        <div class="data-row"><span class="data-label">Cost</span><span
                                                class="data-value">40 G</span></div>
                                        <div class="data-row"><span class="data-label">Market</span><span
                                                class="data-value">Balmung</span></div>
                                        <div class="data-row"><span class="price-large">45 G</span></div>
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <div class="action-row">
                                        <button class="primary-action-btn">Select</button>
                                        <div class="context-menu-container">
                                            <button class="context-menu-btn">
                                                <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                    <path
                                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Result Card 2 -->
                            <div class="harmony-card">
                                <div class="card-header"><span class="dye-name">Ruby Red</span></div>
                                <div class="card-preview">
                                    <div class="preview-half" style="background-color: #802020;"><span
                                            class="preview-label">Source</span></div>
                                    <div class="preview-half" style="background-color: #8c2530;"><span
                                            class="preview-label">Match</span></div>
                                </div>
                                <div class="card-details">
                                    <div class="detail-col">
                                        <div class="col-header">Technical</div>
                                        <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                                style="color:#ffc107;">3.4</span></div>
                                        <div class="data-row"><span class="data-label">HEX</span><span
                                                class="data-value">#8C2530</span></div>
                                        <div class="data-row"><span class="data-label">RGB</span><span
                                                class="data-value">140,37,48</span></div>
                                        <div class="data-row"><span class="data-label">HSV</span><span
                                                class="data-value">354,74,55</span></div>
                                    </div>
                                    <div class="detail-col">
                                        <div class="col-header">Acquisition</div>
                                        <div class="data-row"><span class="data-label">Source</span><span
                                                class="data-value">Crafted</span></div>
                                        <div class="data-row"><span class="data-label">Cost</span><span
                                                class="data-value">5k G</span></div>
                                        <div class="data-row"><span class="data-label">Market</span><span
                                                class="data-value">Mateus</span></div>
                                        <div class="data-row"><span class="price-large">5,000 G</span></div>
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <div class="action-row">
                                        <button class="primary-action-btn">Select</button>
                                        <div class="context-menu-container">
                                            <button class="context-menu-btn">
                                                <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                    <path
                                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Result Card 3 -->
                            <div class="harmony-card">
                                <div class="card-header"><span class="dye-name">Cream Yellow</span></div>
                                <div class="card-preview">
                                    <div class="preview-half" style="background-color: #f0e0a0;"><span
                                            class="preview-label">Source</span></div>
                                    <div class="preview-half" style="background-color: #f2d87e;"><span
                                            class="preview-label">Match</span></div>
                                </div>
                                <div class="card-details">
                                    <div class="detail-col">
                                        <div class="col-header">Technical</div>
                                        <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                                style="color:#4caf50;">1.8</span></div>
                                        <div class="data-row"><span class="data-label">HEX</span><span
                                                class="data-value">#F2D87E</span></div>
                                        <div class="data-row"><span class="data-label">RGB</span><span
                                                class="data-value">242,216,126</span></div>
                                        <div class="data-row"><span class="data-label">HSV</span><span
                                                class="data-value">46,48,95</span></div>
                                    </div>
                                    <div class="detail-col">
                                        <div class="col-header">Acquisition</div>
                                        <div class="data-row"><span class="data-label">Source</span><span
                                                class="data-value">Vendor</span></div>
                                        <div class="data-row"><span class="data-label">Cost</span><span
                                                class="data-value">216 G</span></div>
                                        <div class="data-row"><span class="data-label">Market</span><span
                                                class="data-value">Zalera</span></div>
                                        <div class="data-row"><span class="price-large">300 G</span></div>
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <div class="action-row">
                                        <button class="primary-action-btn">Select</button>
                                        <div class="context-menu-container">
                                            <button class="context-menu-btn">
                                                <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                    <path
                                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Result Card 4 -->
                            <div class="harmony-card">
                                <div class="card-header"><span class="dye-name">Morbol Green</span></div>
                                <div class="card-preview">
                                    <div class="preview-half" style="background-color: #1f3b35;"><span
                                            class="preview-label">Source</span></div>
                                    <div class="preview-half" style="background-color: #1f3a36;"><span
                                            class="preview-label">Match</span></div>
                                </div>
                                <div class="card-details">
                                    <div class="detail-col">
                                        <div class="col-header">Technical</div>
                                        <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                                style="color:#4caf50;">0.5</span></div>
                                        <div class="data-row"><span class="data-label">HEX</span><span
                                                class="data-value">#1F3A36</span></div>
                                        <div class="data-row"><span class="data-label">RGB</span><span
                                                class="data-value">31,58,54</span></div>
                                        <div class="data-row"><span class="data-label">HSV</span><span
                                                class="data-value">171,46,23</span></div>
                                    </div>
                                    <div class="detail-col">
                                        <div class="col-header">Acquisition</div>
                                        <div class="data-row"><span class="data-label">Source</span><span
                                                class="data-value">Vendor</span></div>
                                        <div class="data-row"><span class="data-label">Cost</span><span
                                                class="data-value">216 G</span></div>
                                        <div class="data-row"><span class="data-label">Market</span><span
                                                class="data-value">Brynhildr</span></div>
                                        <div class="data-row"><span class="price-large">250 G</span></div>
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <div class="action-row">
                                        <button class="primary-action-btn">Select</button>
                                        <div class="context-menu-container">
                                            <button class="context-menu-btn">
                                                <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                    <path
                                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Result Card 5 -->
                            <div class="harmony-card">
                                <div class="card-header"><span class="dye-name">Ink Blue</span></div>
                                <div class="card-preview">
                                    <div class="preview-half" style="background-color: #101018;"><span
                                            class="preview-label">Source</span></div>
                                    <div class="preview-half" style="background-color: #1a1a1a;"><span
                                            class="preview-label">Match</span></div>
                                </div>
                                <div class="card-details">
                                    <div class="detail-col">
                                        <div class="col-header">Technical</div>
                                        <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                                style="color:#ffc107;">4.1</span></div>
                                        <div class="data-row"><span class="data-label">HEX</span><span
                                                class="data-value">#1A1A1A</span></div>
                                        <div class="data-row"><span class="data-label">RGB</span><span
                                                class="data-value">26,26,26</span></div>
                                        <div class="data-row"><span class="data-label">HSV</span><span
                                                class="data-value">0,0,10</span></div>
                                    </div>
                                    <div class="detail-col">
                                        <div class="col-header">Acquisition</div>
                                        <div class="data-row"><span class="data-label">Source</span><span
                                                class="data-value">Vendor</span></div>
                                        <div class="data-row"><span class="data-label">Cost</span><span
                                                class="data-value">216 G</span></div>
                                        <div class="data-row"><span class="data-label">Market</span><span
                                                class="data-value">Coeurl</span></div>
                                        <div class="data-row"><span class="price-large">2,500 G</span></div>
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <div class="action-row">
                                        <button class="primary-action-btn">Select</button>
                                        <div class="context-menu-container">
                                            <button class="context-menu-btn">
                                                <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                    <path
                                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Result Card 6 -->
                            <div class="harmony-card">
                                <div class="card-header"><span class="dye-name">Slate Grey</span></div>
                                <div class="card-preview">
                                    <div class="preview-half" style="background-color: #606060;"><span
                                            class="preview-label">Source</span></div>
                                    <div class="preview-half" style="background-color: #686c6b;"><span
                                            class="preview-label">Match</span></div>
                                </div>
                                <div class="card-details">
                                    <div class="detail-col">
                                        <div class="col-header">Technical</div>
                                        <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                                style="color:#4caf50;">1.5</span></div>
                                        <div class="data-row"><span class="data-label">HEX</span><span
                                                class="data-value">#686C6B</span></div>
                                        <div class="data-row"><span class="data-label">RGB</span><span
                                                class="data-value">104,108,107</span></div>
                                        <div class="data-row"><span class="data-label">HSV</span><span
                                                class="data-value">165,4,42</span></div>
                                    </div>
                                    <div class="detail-col">
                                        <div class="col-header">Acquisition</div>
                                        <div class="data-row"><span class="data-label">Source</span><span
                                                class="data-value">Vendor</span></div>
                                        <div class="data-row"><span class="data-label">Cost</span><span
                                                class="data-value">216 G</span></div>
                                        <div class="data-row"><span class="data-label">Market</span><span
                                                class="data-value">Diabolos</span></div>
                                        <div class="data-row"><span class="price-large">350 G</span></div>
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <div class="action-row">
                                        <button class="primary-action-btn">Select</button>
                                        <div class="context-menu-container">
                                            <button class="context-menu-btn">
                                                <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                    <path
                                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Result Card 7 -->
                            <div class="harmony-card">
                                <div class="card-header"><span class="dye-name">Celeste Green</span></div>
                                <div class="card-preview">
                                    <div class="preview-half" style="background-color: #88c0b0;"><span
                                            class="preview-label">Source</span></div>
                                    <div class="preview-half" style="background-color: #96bbab;"><span
                                            class="preview-label">Match</span></div>
                                </div>
                                <div class="card-details">
                                    <div class="detail-col">
                                        <div class="col-header">Technical</div>
                                        <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                                style="color:#ffc107;">2.9</span></div>
                                        <div class="data-row"><span class="data-label">HEX</span><span
                                                class="data-value">#96BBAB</span></div>
                                        <div class="data-row"><span class="data-label">RGB</span><span
                                                class="data-value">150,187,171</span></div>
                                        <div class="data-row"><span class="data-label">HSV</span><span
                                                class="data-value">154,20,73</span></div>
                                    </div>
                                    <div class="detail-col">
                                        <div class="col-header">Acquisition</div>
                                        <div class="data-row"><span class="data-label">Source</span><span
                                                class="data-value">Market</span></div>
                                        <div class="data-row"><span class="data-label">Cost</span><span
                                                class="data-value">3400 G</span></div>
                                        <div class="data-row"><span class="data-label">Market</span><span
                                                class="data-value">Goblin</span></div>
                                        <div class="data-row"><span class="price-large">3,400 G</span></div>
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <div class="action-row">
                                        <button class="primary-action-btn">Select</button>
                                        <div class="context-menu-container">
                                            <button class="context-menu-btn">
                                                <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                    <path
                                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Result Card 8 -->
                            <div class="harmony-card">
                                <div class="card-header"><span class="dye-name">Rose Pink</span></div>
                                <div class="card-preview">
                                    <div class="preview-half" style="background-color: #e090a0;"><span
                                            class="preview-label">Source</span></div>
                                    <div class="preview-half" style="background-color: #e69f96;"><span
                                            class="preview-label">Match</span></div>
                                </div>
                                <div class="card-details">
                                    <div class="detail-col">
                                        <div class="col-header">Technical</div>
                                        <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                                style="color:#4caf50;">1.1</span></div>
                                        <div class="data-row"><span class="data-label">HEX</span><span
                                                class="data-value">#E69F96</span></div>
                                        <div class="data-row"><span class="data-label">RGB</span><span
                                                class="data-value">230,159,150</span></div>
                                        <div class="data-row"><span class="data-label">HSV</span><span
                                                class="data-value">7,35,90</span></div>
                                    </div>
                                    <div class="detail-col">
                                        <div class="col-header">Acquisition</div>
                                        <div class="data-row"><span class="data-label">Source</span><span
                                                class="data-value">Vendor</span></div>
                                        <div class="data-row"><span class="data-label">Cost</span><span
                                                class="data-value">40 G</span></div>
                                        <div class="data-row"><span class="data-label">Market</span><span
                                                class="data-value">Malboro</span></div>
                                        <div class="data-row"><span class="price-large">60 G</span></div>
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <div class="action-row">
                                        <button class="primary-action-btn">Select</button>
                                        <div class="context-menu-container">
                                            <button class="context-menu-btn">
                                                <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                    <path
                                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Budget Suggestions View -->
            <div class="budget-view"
                style="display: none; width: 100%; height: 100%; flex-direction: column; padding: 32px; gap: 24px; overflow-y: auto; align-items: center;">

                <!-- Quick Picks Section -->
                <div class="section-label" style="font-size: 14px; margin-bottom: 12px;">Quick Picks</div>
                <div class="quick-picks-container"
                    style="display: flex; flex-wrap: wrap; gap: 16px; margin-bottom: 24px; justify-content: center;">

                    <div class="harmony-card"
                        style="min-width: auto; height: 120px; align-items: center; justify-content: center; gap: 8px; padding: 16px; cursor: pointer;">
                        <div class="swatch"
                            style="width: 40px; height: 40px; background-color: #f7f7f7; box-shadow: 0 2px 4px rgba(0,0,0,0.5); cursor: pointer;">
                        </div>
                        <span class="dye-name" style="font-size: 12px;">Pure White</span>
                    </div>

                    <div class="harmony-card"
                        style="min-width: auto; height: 120px; align-items: center; justify-content: center; gap: 8px; padding: 16px; cursor: pointer;">
                        <div class="swatch"
                            style="width: 40px; height: 40px; background-color: #1a1a1a; box-shadow: 0 2px 4px rgba(0,0,0,0.5); cursor: pointer;">
                        </div>
                        <span class="dye-name" style="font-size: 12px;">Jet Black</span>
                    </div>

                    <div class="harmony-card"
                        style="min-width: auto; height: 120px; align-items: center; justify-content: center; gap: 8px; padding: 16px; cursor: pointer;">
                        <div class="swatch"
                            style="width: 40px; height: 40px; background-color: #e5dac1; box-shadow: 0 2px 4px rgba(0,0,0,0.5); cursor: pointer;">
                        </div>
                        <span class="dye-name" style="font-size: 12px; text-align: center;">Pearl White<br><span
                                style="font-size: 10px; color: var(--text-secondary);">(Cosmic)</span></span>
                    </div>

                    <div class="harmony-card"
                        style="min-width: auto; height: 120px; align-items: center; justify-content: center; gap: 8px; padding: 16px; cursor: pointer;">
                        <div class="swatch"
                            style="width: 40px; height: 40px; background-color: #79664c; box-shadow: 0 2px 4px rgba(0,0,0,0.5); cursor: pointer;">
                        </div>
                        <span class="dye-name" style="font-size: 12px; text-align: center;">Metallic Brass<br><span
                                style="font-size: 10px; color: var(--text-secondary);">(Cosmic)</span></span>
                    </div>

                </div>

                <!-- Results List -->
                <div class="section-label" style="font-size: 14px; margin-bottom: 12px;">Budget Enhancements (Found 8)
                </div>
                <div class="harmony-results">
                    <!-- Card 1 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Seafog Blue</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6f5a7a;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #6481a0;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#ffc107;">12.4</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#6481A0</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Zalera</span></div>
                                <div class="data-row"><span class="data-label">Saved</span><span class="data-value"
                                        style="color:#4caf50;">74,764 G</span></div>
                                <div class="data-row"><span class="price-large">236 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                            </div>
                        </div>
                    </div>

                    <!-- Card 2 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Lavender Purple</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6f5a7a;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #877fac;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#f44336;">15.1</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#877FAC</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Goblin</span></div>
                                <div class="data-row"><span class="data-label">Saved</span><span class="data-value"
                                        style="color:#4caf50;">74,351 G</span></div>
                                <div class="data-row"><span class="price-large">649 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                            </div>
                        </div>
                    </div>

                    <!-- Card 3 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Raptor Blue</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6f5a7a;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #5b7fc0;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#f44336;">14.8</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#5B7FC0</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Coeurl</span></div>
                                <div class="data-row"><span class="data-label">Saved</span><span class="data-value"
                                        style="color:#4caf50;">74,201 G</span></div>
                                <div class="data-row"><span class="price-large">799 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                            </div>
                        </div>
                    </div>

                    <!-- Card 4 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Plum Purple</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6f5a7a;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #79526c;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#f44336;">14.2</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#79526C</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Malboro</span></div>
                                <div class="data-row"><span class="data-label">Saved</span><span class="data-value"
                                        style="color:#4caf50;">74,230 G</span></div>
                                <div class="data-row"><span class="price-large">770 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                            </div>
                        </div>
                    </div>

                    <!-- Card 5 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Goobbue Grey</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6f5a7a;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #898784;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#f44336;">16.5</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#898784</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Zalera</span></div>
                                <div class="data-row"><span class="data-label">Saved</span><span class="data-value"
                                        style="color:#4caf50;">74,951 G</span></div>
                                <div class="data-row"><span class="price-large">49 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                            </div>
                        </div>
                    </div>

                    <!-- Card 6 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Peacock Blue</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6f5a7a;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #3b6886;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#f44336;">17.1</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#3B6886</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Goblin</span></div>
                                <div class="data-row"><span class="data-label">Saved</span><span class="data-value"
                                        style="color:#4caf50;">74,206 G</span></div>
                                <div class="data-row"><span class="price-large">794 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                            </div>
                        </div>
                    </div>

                    <!-- Card 7 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Lilac Purple</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6f5a7a;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #836969;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#f44336;">15.8</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#836969</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Coeurl</span></div>
                                <div class="data-row"><span class="data-label">Saved</span><span class="data-value"
                                        style="color:#4caf50;">74,601 G</span></div>
                                <div class="data-row"><span class="price-large">399 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                            </div>
                        </div>
                    </div>

                    <!-- Card 8 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Slate Grey</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #6f5a7a;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #646565;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#f44336;">18.5</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#646565</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Diabolos</span></div>
                                <div class="data-row"><span class="data-label">Saved</span><span class="data-value"
                                        style="color:#4caf50;">74,445 G</span></div>
                                <div class="data-row"><span class="price-large">555 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row">
                                <button class="primary-action-btn">Select Dye</button>
                            </div>
                        </div>
                    </div>


                </div>
            </div>

            <!-- Gradient Builder View -->
            <div class="gradient-view" style="display: none;">
                <div class="gradient-builder-ui">
                    <!-- Start Node -->
                    <div class="gradient-node main start">
                        <div class="node-circle" style="background: #e88d6c;"></div>
                        <span class="node-label">Start (Opo-opo)</span>
                    </div>

                    <!-- Path -->
                    <div class="gradient-path-container">
                        <div class="gradient-track"></div>
                        <!-- Steps (8 Steps) -->
                        <div class="gradient-step" style="left: 11%; background: #e0826b;" title="Step 1"></div>
                        <div class="gradient-step" style="left: 22%; background: #d0766a;" title="Step 2"></div>
                        <div class="gradient-step" style="left: 33%; background: #c06b69;" title="Step 3"></div>
                        <div class="gradient-step" style="left: 44%; background: #b06068;" title="Step 4"></div>
                        <div class="gradient-step" style="left: 55%; background: #a05567;" title="Step 5"></div>
                        <div class="gradient-step" style="left: 66%; background: #904a66;" title="Step 6"></div>
                        <div class="gradient-step" style="left: 77%; background: #803f65;" title="Step 7"></div>
                        <div class="gradient-step" style="left: 88%; background: #703464;" title="Step 8"></div>
                    </div>

                    <!-- End Node -->
                    <div class="gradient-node main end">
                        <div class="node-circle" style="background: #542d62;"></div>
                        <span class="node-label">End (Dark Purple)</span>
                    </div>
                </div>

                <div style="width: 100%; overflow: hidden; display: flex; flex-direction: column; position: relative;">
                    <div class="instruction-label" style="margin-bottom: 10px;">Gradient Results (8 Steps)</div>
                    <div class="gradient-results-list">

                        <!-- Step 1 -->
                        <div class="harmony-card">
                            <div class="card-header"><span class="dye-name">Step 1: Coral Red</span></div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #D9846B;"><span
                                        class="preview-label">Start</span></div>
                                <div class="preview-half" style="background-color: #e0826b;"><span
                                        class="preview-label">Step 1</span></div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                            style="color:#4caf50;">0.85</span></div>
                                    <div class="data-row"><span class="data-label">HEX</span><span
                                            class="data-value">#E0826B</span></div>
                                    <div class="data-row"><span class="data-label">RGB</span><span
                                            class="data-value">224,130,107</span></div>
                                    <div class="data-row"><span class="data-label">HSV</span><span
                                            class="data-value">11,52,88</span></div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row"><span class="data-label">Source</span><span
                                            class="data-value">Vendor</span></div>
                                    <div class="data-row"><span class="data-label">Cost</span><span
                                            class="data-value">40
                                            G</span></div>
                                    <div class="data-row"><span class="data-label">Market</span><span
                                            class="data-value">Balmung</span></div>
                                    <div class="data-row"><span class="price-large">120 G</span></div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Select Dye</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2 -->
                        <div class="harmony-card">
                            <div class="card-header"><span class="dye-name">Step 2: Sunset Orange</span></div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #CA796A;"><span
                                        class="preview-label">Start</span></div>
                                <div class="preview-half" style="background-color: #d0766a;"><span
                                        class="preview-label">Step 2</span></div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                            style="color:#4caf50;">1.12</span></div>
                                    <div class="data-row"><span class="data-label">HEX</span><span
                                            class="data-value">#D0766A</span></div>
                                    <div class="data-row"><span class="data-label">RGB</span><span
                                            class="data-value">208,118,106</span></div>
                                    <div class="data-row"><span class="data-label">HSV</span><span
                                            class="data-value">7,43,82</span></div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row"><span class="data-label">Source</span><span
                                            class="data-value">Crafted</span></div>
                                    <div class="data-row"><span class="data-label">Cost</span><span
                                            class="data-value">N/A</span></div>
                                    <div class="data-row"><span class="data-label">Market</span><span
                                            class="data-value">Mateus</span></div>
                                    <div class="data-row"><span class="price-large">4,500 G</span></div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Select Dye</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3 -->
                        <div class="harmony-card">
                            <div class="card-header"><span class="dye-name">Step 3: Mesa Red</span></div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #BB7069;"><span
                                        class="preview-label">Start</span></div>
                                <div class="preview-half" style="background-color: #c06b69;"><span
                                        class="preview-label">Step 3</span></div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                            style="color:#4caf50;">1.45</span></div>
                                    <div class="data-row"><span class="data-label">HEX</span><span
                                            class="data-value">#C06B69</span></div>
                                    <div class="data-row"><span class="data-label">RGB</span><span
                                            class="data-value">192,107,105</span></div>
                                    <div class="data-row"><span class="data-label">HSV</span><span
                                            class="data-value">2,44,75</span></div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row"><span class="data-label">Source</span><span
                                            class="data-value">Vendor</span></div>
                                    <div class="data-row"><span class="data-label">Cost</span><span
                                            class="data-value">216
                                            G</span></div>
                                    <div class="data-row"><span class="data-label">Market</span><span
                                            class="data-value">Zalera</span></div>
                                    <div class="data-row"><span class="price-large">300 G</span></div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Select Dye</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4 -->
                        <div class="harmony-card">
                            <div class="card-header"><span class="dye-name">Step 4: Russet Brown</span></div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #AD6768;"><span
                                        class="preview-label">Start</span></div>
                                <div class="preview-half" style="background-color: #b06068;"><span
                                        class="preview-label">Step 4</span></div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                            style="color:#4caf50;">1.80</span></div>
                                    <div class="data-row"><span class="data-label">HEX</span><span
                                            class="data-value">#B06068</span></div>
                                    <div class="data-row"><span class="data-label">RGB</span><span
                                            class="data-value">176,96,104</span></div>
                                    <div class="data-row"><span class="data-label">HSV</span><span
                                            class="data-value">355,45,69</span></div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row"><span class="data-label">Source</span><span
                                            class="data-value">Vendor</span></div>
                                    <div class="data-row"><span class="data-label">Cost</span><span
                                            class="data-value">40
                                            G</span></div>
                                    <div class="data-row"><span class="data-label">Market</span><span
                                            class="data-value">Brynhildr</span></div>
                                    <div class="data-row"><span class="price-large">90 G</span></div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Select Dye</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 5 -->
                        <div class="harmony-card">
                            <div class="card-header"><span class="dye-name">Step 5: Wine Red</span></div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #9E5D67;"><span
                                        class="preview-label">Start</span></div>
                                <div class="preview-half" style="background-color: #a05567;"><span
                                        class="preview-label">Step 5</span></div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                            style="color:#ffc107;">2.10</span></div>
                                    <div class="data-row"><span class="data-label">HEX</span><span
                                            class="data-value">#A05567</span></div>
                                    <div class="data-row"><span class="data-label">RGB</span><span
                                            class="data-value">160,85,103</span></div>
                                    <div class="data-row"><span class="data-label">HSV</span><span
                                            class="data-value">345,46,63</span></div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row"><span class="data-label">Source</span><span
                                            class="data-value">Crafted</span></div>
                                    <div class="data-row"><span class="data-label">Cost</span><span
                                            class="data-value">N/A</span></div>
                                    <div class="data-row"><span class="data-label">Market</span><span
                                            class="data-value">Coeurl</span></div>
                                    <div class="data-row"><span class="price-large">850 G</span></div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Select Dye</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 6 -->
                        <div class="harmony-card">
                            <div class="card-header"><span class="dye-name">Step 6: Rolanberry Red</span></div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #8F5366;"><span
                                        class="preview-label">Start</span></div>
                                <div class="preview-half" style="background-color: #904a66;"><span
                                        class="preview-label">Step 6</span></div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                            style="color:#ffc107;">2.80</span></div>
                                    <div class="data-row"><span class="data-label">HEX</span><span
                                            class="data-value">#904A66</span></div>
                                    <div class="data-row"><span class="data-label">RGB</span><span
                                            class="data-value">144,74,102</span></div>
                                    <div class="data-row"><span class="data-label">HSV</span><span
                                            class="data-value">336,49,56</span></div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row"><span class="data-label">Source</span><span
                                            class="data-value">Vendor</span></div>
                                    <div class="data-row"><span class="data-label">Cost</span><span
                                            class="data-value">40
                                            G</span></div>
                                    <div class="data-row"><span class="data-label">Market</span><span
                                            class="data-value">Diabolos</span></div>
                                    <div class="data-row"><span class="price-large">150 G</span></div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Select Dye</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 7 -->
                        <div class="harmony-card">
                            <div class="card-header"><span class="dye-name">Step 7: Regal Plum</span></div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #804A65;"><span
                                        class="preview-label">Start</span></div>
                                <div class="preview-half" style="background-color: #803f65;"><span
                                        class="preview-label">Step 7</span></div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                            style="color:#ffc107;">3.20</span></div>
                                    <div class="data-row"><span class="data-label">HEX</span><span
                                            class="data-value">#803F65</span></div>
                                    <div class="data-row"><span class="data-label">RGB</span><span
                                            class="data-value">128,63,101</span></div>
                                    <div class="data-row"><span class="data-label">HSV</span><span
                                            class="data-value">325,51,50</span></div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row"><span class="data-label">Source</span><span
                                            class="data-value">Vendor</span></div>
                                    <div class="data-row"><span class="data-label">Cost</span><span
                                            class="data-value">40
                                            G</span></div>
                                    <div class="data-row"><span class="data-label">Market</span><span
                                            class="data-value">Goblin</span></div>
                                    <div class="data-row"><span class="price-large">300 G</span></div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Select Dye</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 8 -->
                        <div class="harmony-card">
                            <div class="card-header"><span class="dye-name">Step 8: Dark Purple</span></div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #714064;"><span
                                        class="preview-label">Start</span></div>
                                <div class="preview-half" style="background-color: #703464;"><span
                                        class="preview-label">Step 8</span></div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                            style="color:#f44336;">3.90</span></div>
                                    <div class="data-row"><span class="data-label">HEX</span><span
                                            class="data-value">#703464</span></div>
                                    <div class="data-row"><span class="data-label">RGB</span><span
                                            class="data-value">112,52,100</span></div>
                                    <div class="data-row"><span class="data-label">HSV</span><span
                                            class="data-value">312,53,44</span></div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row"><span class="data-label">Source</span><span
                                            class="data-value">Vendor</span></div>
                                    <div class="data-row"><span class="data-label">Cost</span><span
                                            class="data-value">40
                                            G</span></div>
                                    <div class="data-row"><span class="data-label">Market</span><span
                                            class="data-value">Malboro</span></div>
                                    <div class="data-row"><span class="price-large">450 G</span></div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Select Dye</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Dye Mixer View -->
            <div class="dye-mixer-view" style="display: none;">
                <div class="mixer-container">
                    <div class="mixer-crafting-area glass">
                        <!-- Input 1 -->
                        <div class="mixer-slot-group">
                            <div class="mixer-slot" style="border-color: #8c2530;">
                                <div class="swatch" style="background-color: #8c2530;"></div>
                                <span class="slot-label">Rolanberry Red</span>
                            </div>
                        </div>

                        <div class="mixer-operator">+</div>

                        <!-- Input 2 -->
                        <div class="mixer-slot-group">
                            <div class="mixer-slot" style="border-color: #6d5440;">
                                <div class="swatch" style="background-color: #6d5440;"></div>
                                <span class="slot-label">Opo-opo Brown</span>
                            </div>
                        </div>

                        <div class="mixer-arrow">
                            <svg viewBox="0 0 24 24">
                                <path d="M16.01 11H4v2h12.01v3L20 12l-3.99-4z" />
                            </svg>
                        </div>

                        <!-- Result -->
                        <div class="mixer-slot-group">
                            <div class="mixer-slot result">
                                <div class="swatch" style="background-color: #7A3C38;"></div>
                                <span class="slot-label">Mixed Result</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section-header" style="width: 100%; max-width: 1400px; padding: 0 16px;">
                    <span class="section-title">Closest In-Game Matches (Top 3)</span>
                </div>

                <div class="harmony-results">
                    <!-- Result Card 1 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Kobold Brown</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #7A3C38;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #6b4743;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#4caf50;">2.1</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#6B4743</span></div>
                                <div class="data-row"><span class="data-label">RGB</span><span
                                        class="data-value">107,71,67</span></div>
                                <div class="data-row"><span class="data-label">HSV</span><span
                                        class="data-value">6,37,42</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Source</span><span
                                        class="data-value">Vendor</span></div>
                                <div class="data-row"><span class="data-label">Cost</span><span class="data-value">216
                                        G</span></div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Balmung</span></div>
                                <div class="data-row"><span class="price-large">250 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row"><button class="primary-action-btn">Select Dye</button></div>
                        </div>
                    </div>

                    <!-- Result Card 2 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Wine Red</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #7A3C38;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #59252c;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#ffc107;">4.5</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#59252C</span></div>
                                <div class="data-row"><span class="data-label">RGB</span><span
                                        class="data-value">89,37,44</span></div>
                                <div class="data-row"><span class="data-label">HSV</span><span
                                        class="data-value">352,58,35</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Source</span><span
                                        class="data-value">Market</span></div>
                                <div class="data-row"><span class="data-label">Cost</span><span
                                        class="data-value">---</span></div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Mateus</span></div>
                                <div class="data-row"><span class="price-large">150 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row"><button class="primary-action-btn">Select Dye</button></div>
                        </div>
                    </div>

                    <!-- Result Card 3 -->
                    <div class="harmony-card">
                        <div class="card-header"><span class="dye-name">Russet Brown</span></div>
                        <div class="card-preview">
                            <div class="preview-half" style="background-color: #7A3C38;"><span
                                    class="preview-label">Target</span></div>
                            <div class="preview-half" style="background-color: #8c2530;"><span
                                    class="preview-label">Match</span></div>
                        </div>
                        <div class="card-details">
                            <div class="detail-col">
                                <div class="col-header">Technical</div>
                                <div class="data-row"><span class="data-label">ΔE</span><span class="data-value"
                                        style="color:#ffc107;">5.2</span></div>
                                <div class="data-row"><span class="data-label">HEX</span><span
                                        class="data-value">#8C2530</span></div>
                                <div class="data-row"><span class="data-label">RGB</span><span
                                        class="data-value">140,37,48</span></div>
                                <div class="data-row"><span class="data-label">HSV</span><span
                                        class="data-value">354,74,55</span></div>
                            </div>
                            <div class="detail-col">
                                <div class="col-header">Acquisition</div>
                                <div class="data-row"><span class="data-label">Source</span><span
                                        class="data-value">Vendor</span></div>
                                <div class="data-row"><span class="data-label">Cost</span><span class="data-value">40
                                        G</span></div>
                                <div class="data-row"><span class="data-label">Market</span><span
                                        class="data-value">Goblin</span></div>
                                <div class="data-row"><span class="price-large">60 G</span></div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <div class="action-row"><button class="primary-action-btn">Select Dye</button></div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Swatch Matcher View -->
            <div class="matcher-view" style="display: none;">
                <div class="matcher-layout">
                    <!-- Left: Color Sheet Grid -->
                    <div class="matcher-grid-container glass">
                        <div class="section-header"
                            style="width:100%; justify-content: space-between; margin-bottom: 0;">
                            <span class="section-title">EyeColors (192)</span>
                        </div>
                        <div class="color-sheet-grid" id="matcher-grid"></div>
                    </div>

                    <!-- Right: Results & Info -->
                    <div class="matcher-results-area">
                        <!-- Selected Color Technical Info -->
                        <div class="harmony-card matcher-selected-card">
                            <div class="card-header"><span class="dye-name">Selected Color</span></div>
                            <div class="card-preview" style="height: 80px;">
                                <div class="preview-half" id="matcher-preview-color"
                                    style="background-color: #333; flex:1;">
                                    <span class="preview-label">Color</span>
                                </div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row"><span class="data-label">HEX</span><span class="data-value"
                                            id="matcher-data-hex">--</span></div>
                                    <div class="data-row"><span class="data-label">RGB</span><span class="data-value"
                                            id="matcher-data-rgb">--</span></div>
                                    <div class="data-row"><span class="data-label">HSV</span><span class="data-value"
                                            id="matcher-data-hsv">--</span></div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Grid Info</div>
                                    <div class="data-row"><span class="data-label">Index</span><span class="data-value"
                                            id="matcher-data-index">--</span></div>
                                    <div class="data-row"><span class="data-label">Row</span><span class="data-value"
                                            id="matcher-data-row">--</span></div>
                                    <div class="data-row"><span class="data-label">Col</span><span class="data-value"
                                            id="matcher-data-col">--</span></div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row"><button class="primary-action-btn">Copy Values</button></div>
                            </div>
                        </div>

                        <!-- Matching Dyes (Mocked Results) -->
                        <div class="matcher-matches-section">
                            <div class="section-header">
                                <span class="section-title">Matching Dyes</span>
                            </div>
                            <div class="harmony-results"
                                style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                                <!-- Mock Match 1 -->
                                <div class="harmony-card" style="min-width: 280px;">
                                    <div class="card-header"><span class="dye-name">Kobold Brown</span></div>
                                    <div class="card-preview">
                                        <div class="preview-half" style="background-color: #6d5440;"><span
                                                class="preview-label">Target</span></div>
                                        <div class="preview-half" style="background-color: #6b4743;"><span
                                                class="preview-label">Match</span></div>
                                    </div>
                                    <div class="card-details">
                                        <div class="detail-col">
                                            <div class="col-header">Technical</div>
                                            <div class="data-row"><span class="data-label">ΔE</span><span
                                                    class="data-value" style="color:#4caf50;">2.1</span></div>
                                            <div class="data-row"><span class="data-label">HEX</span><span
                                                    class="data-value">#6B4743</span></div>
                                            <div class="data-row"><span class="data-label">RGB</span><span
                                                    class="data-value">107,71,67</span></div>
                                            <div class="data-row"><span class="data-label">HSV</span><span
                                                    class="data-value">6,37,42</span></div>
                                        </div>
                                        <div class="detail-col">
                                            <div class="col-header">Acquisition</div>
                                            <div class="data-row"><span class="data-label">Source</span><span
                                                    class="data-value">Vendor</span></div>
                                            <div class="data-row"><span class="data-label">Cost</span><span
                                                    class="data-value">40 G</span></div>
                                            <div class="data-row"><span class="data-label">Market</span><span
                                                    class="data-value">Balmung</span></div>
                                            <div class="data-row"><span class="price-large">216 G</span></div>
                                        </div>
                                    </div>
                                    <div class="card-actions">
                                        <div class="action-row"><button class="primary-action-btn">Select Dye</button>
                                        </div>
                                    </div>
                                </div>
                                <!-- Mock Match 2 -->
                                <div class="harmony-card" style="min-width: 280px;">
                                    <div class="card-header"><span class="dye-name">Wine Red</span></div>
                                    <div class="card-preview">
                                        <div class="preview-half" style="background-color: #6d5440;"><span
                                                class="preview-label">Target</span></div>
                                        <div class="preview-half" style="background-color: #59252c;"><span
                                                class="preview-label">Match</span></div>
                                    </div>
                                    <div class="card-details">
                                        <div class="detail-col">
                                            <div class="col-header">Technical</div>
                                            <div class="data-row"><span class="data-label">ΔE</span><span
                                                    class="data-value" style="color:#ffc107;">4.5</span></div>
                                            <div class="data-row"><span class="data-label">HEX</span><span
                                                    class="data-value">#59252C</span></div>
                                            <div class="data-row"><span class="data-label">RGB</span><span
                                                    class="data-value">89,37,44</span></div>
                                            <div class="data-row"><span class="data-label">HSV</span><span
                                                    class="data-value">352,58,35</span></div>
                                        </div>
                                        <div class="detail-col">
                                            <div class="col-header">Acquisition</div>
                                            <div class="data-row"><span class="data-label">Source</span><span
                                                    class="data-value">Market</span></div>
                                            <div class="data-row"><span class="data-label">Cost</span><span
                                                    class="data-value">---</span></div>
                                            <div class="data-row"><span class="data-label">Market</span><span
                                                    class="data-value">Mateus</span></div>
                                            <div class="data-row"><span class="price-large">150 G</span></div>
                                        </div>
                                    </div>
                                    <div class="card-actions">
                                        <div class="action-row"><button class="primary-action-btn">Select Dye</button>
                                        </div>
                                    </div>
                                </div>
                                <!-- Mock Match 3 -->
                                <div class="harmony-card" style="min-width: 280px;">
                                    <div class="card-header"><span class="dye-name">Rust Red</span></div>
                                    <div class="card-preview">
                                        <div class="preview-half" style="background-color: #6d5440;"><span
                                                class="preview-label">Target</span></div>
                                        <div class="preview-half" style="background-color: #8b4513;"><span
                                                class="preview-label">Match</span></div>
                                    </div>
                                    <div class="card-details">
                                        <div class="detail-col">
                                            <div class="col-header">Technical</div>
                                            <div class="data-row"><span class="data-label">ΔE</span><span
                                                    class="data-value" style="color:#ffc107;">5.2</span></div>
                                            <div class="data-row"><span class="data-label">HEX</span><span
                                                    class="data-value">#8B4513</span></div>
                                            <div class="data-row"><span class="data-label">RGB</span><span
                                                    class="data-value">139,69,19</span></div>
                                            <div class="data-row"><span class="data-label">HSV</span><span
                                                    class="data-value">25,86,55</span></div>
                                        </div>
                                        <div class="detail-col">
                                            <div class="col-header">Acquisition</div>
                                            <div class="data-row"><span class="data-label">Source</span><span
                                                    class="data-value">Vendor</span></div>
                                            <div class="data-row"><span class="data-label">Cost</span><span
                                                    class="data-value">40 G</span></div>
                                            <div class="data-row"><span class="data-label">Market</span><span
                                                    class="data-value">Balmung</span></div>
                                            <div class="data-row"><span class="price-large">180 G</span></div>
                                        </div>
                                    </div>
                                    <div class="card-actions">
                                        <div class="action-row"><button class="primary-action-btn">Select Dye</button>
                                        </div>
                                    </div>
                                </div>
                                <!-- Mock Match 4 -->
                                <div class="harmony-card" style="min-width: 280px;">
                                    <div class="card-header"><span class="dye-name">Desert Yellow</span></div>
                                    <div class="card-preview">
                                        <div class="preview-half" style="background-color: #6d5440;"><span
                                                class="preview-label">Target</span></div>
                                        <div class="preview-half" style="background-color: #c9a246;"><span
                                                class="preview-label">Match</span></div>
                                    </div>
                                    <div class="card-details">
                                        <div class="detail-col">
                                            <div class="col-header">Technical</div>
                                            <div class="data-row"><span class="data-label">ΔE</span><span
                                                    class="data-value" style="color:#ff9800;">6.8</span></div>
                                            <div class="data-row"><span class="data-label">HEX</span><span
                                                    class="data-value">#C9A246</span></div>
                                            <div class="data-row"><span class="data-label">RGB</span><span
                                                    class="data-value">201,162,70</span></div>
                                            <div class="data-row"><span class="data-label">HSV</span><span
                                                    class="data-value">42,65,79</span></div>
                                        </div>
                                        <div class="detail-col">
                                            <div class="col-header">Acquisition</div>
                                            <div class="data-row"><span class="data-label">Source</span><span
                                                    class="data-value">Craft</span></div>
                                            <div class="data-row"><span class="data-label">Cost</span><span
                                                    class="data-value">---</span></div>
                                            <div class="data-row"><span class="data-label">Market</span><span
                                                    class="data-value">Gilgamesh</span></div>
                                            <div class="data-row"><span class="price-large">320 G</span></div>
                                        </div>
                                    </div>
                                    <div class="card-actions">
                                        <div class="action-row"><button class="primary-action-btn">Select Dye</button>
                                        </div>
                                    </div>
                                </div>
                                <!-- Mock Match 5 -->
                                <div class="harmony-card" style="min-width: 280px;">
                                    <div class="card-header"><span class="dye-name">Turquoise Green</span></div>
                                    <div class="card-preview">
                                        <div class="preview-half" style="background-color: #6d5440;"><span
                                                class="preview-label">Target</span></div>
                                        <div class="preview-half" style="background-color: #3d8b8b;"><span
                                                class="preview-label">Match</span></div>
                                    </div>
                                    <div class="card-details">
                                        <div class="detail-col">
                                            <div class="col-header">Technical</div>
                                            <div class="data-row"><span class="data-label">ΔE</span><span
                                                    class="data-value" style="color:#f44336;">8.4</span></div>
                                            <div class="data-row"><span class="data-label">HEX</span><span
                                                    class="data-value">#3D8B8B</span></div>
                                            <div class="data-row"><span class="data-label">RGB</span><span
                                                    class="data-value">61,139,139</span></div>
                                            <div class="data-row"><span class="data-label">HSV</span><span
                                                    class="data-value">180,56,55</span></div>
                                        </div>
                                        <div class="detail-col">
                                            <div class="col-header">Acquisition</div>
                                            <div class="data-row"><span class="data-label">Source</span><span
                                                    class="data-value">Dungeon</span></div>
                                            <div class="data-row"><span class="data-label">Cost</span><span
                                                    class="data-value">---</span></div>
                                            <div class="data-row"><span class="data-label">Market</span><span
                                                    class="data-value">Cactuar</span></div>
                                            <div class="data-row"><span class="price-large">450 G</span></div>
                                        </div>
                                    </div>
                                    <div class="card-actions">
                                        <div class="action-row"><button class="primary-action-btn">Select Dye</button>
                                        </div>
                                    </div>
                                </div>
                                <!-- Mock Match 6 -->
                                <div class="harmony-card" style="min-width: 280px;">
                                    <div class="card-header"><span class="dye-name">Slate Grey</span></div>
                                    <div class="card-preview">
                                        <div class="preview-half" style="background-color: #6d5440;"><span
                                                class="preview-label">Target</span></div>
                                        <div class="preview-half" style="background-color: #5e5e5e;"><span
                                                class="preview-label">Match</span></div>
                                    </div>
                                    <div class="card-details">
                                        <div class="detail-col">
                                            <div class="col-header">Technical</div>
                                            <div class="data-row"><span class="data-label">ΔE</span><span
                                                    class="data-value" style="color:#f44336;">9.1</span></div>
                                            <div class="data-row"><span class="data-label">HEX</span><span
                                                    class="data-value">#5E5E5E</span></div>
                                            <div class="data-row"><span class="data-label">RGB</span><span
                                                    class="data-value">94,94,94</span></div>
                                            <div class="data-row"><span class="data-label">HSV</span><span
                                                    class="data-value">0,0,37</span></div>
                                        </div>
                                        <div class="detail-col">
                                            <div class="col-header">Acquisition</div>
                                            <div class="data-row"><span class="data-label">Source</span><span
                                                    class="data-value">Vendor</span></div>
                                            <div class="data-row"><span class="data-label">Cost</span><span
                                                    class="data-value">40 G</span></div>
                                            <div class="data-row"><span class="data-label">Market</span><span
                                                    class="data-value">Balmung</span></div>
                                            <div class="data-row"><span class="price-large">95 G</span></div>
                                        </div>
                                    </div>
                                    <div class="card-actions">
                                        <div class="action-row"><button class="primary-action-btn">Select Dye</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Accessibility Checker View -->
            <div class="accessibility-view" style="display: none;">

                <!-- Selected Dyes Section -->
                <section class="accessibility-section">
                    <div class="section-header">
                        <span class="section-title">Selected Dyes</span>
                    </div>
                    <div class="comparison-cards-row">
                        <!-- Iris Purple -->
                        <div class="harmony-card">
                            <div class="card-header">
                                <span class="dye-name">Iris Purple</span>
                            </div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #7b5fa0;">
                                    <span class="preview-label">Preview</span>
                                </div>
                                <div class="preview-half" style="background-color: #7b5fa0;">
                                    <span class="preview-label">Cloth</span>
                                </div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row">
                                        <span class="data-label">HEX</span>
                                        <span class="data-value">#7B5FA0</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">RGB</span>
                                        <span class="data-value">123,95,160</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">HSV</span>
                                        <span class="data-value">266,41,63</span>
                                    </div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row">
                                        <span class="data-label">Source</span>
                                        <span class="data-value">Vendor</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Cost</span>
                                        <span class="data-value">216 G</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Market</span>
                                        <span class="data-value">Balmung</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="price-large">380 G</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Remove</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Loam Brown -->
                        <div class="harmony-card">
                            <div class="card-header">
                                <span class="dye-name">Loam Brown</span>
                            </div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #6d5440;">
                                    <span class="preview-label">Preview</span>
                                </div>
                                <div class="preview-half" style="background-color: #6d5440;">
                                    <span class="preview-label">Cloth</span>
                                </div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row">
                                        <span class="data-label">HEX</span>
                                        <span class="data-value">#6D5440</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">RGB</span>
                                        <span class="data-value">109,84,64</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">HSV</span>
                                        <span class="data-value">27,41,43</span>
                                    </div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row">
                                        <span class="data-label">Source</span>
                                        <span class="data-value">Vendor</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Cost</span>
                                        <span class="data-value">40 G</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Market</span>
                                        <span class="data-value">Balmung</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="price-large">45 G</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Remove</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Olive Green -->
                        <div class="harmony-card">
                            <div class="card-header">
                                <span class="dye-name">Olive Green</span>
                            </div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #7d8853;">
                                    <span class="preview-label">Preview</span>
                                </div>
                                <div class="preview-half" style="background-color: #7d8853;">
                                    <span class="preview-label">Cloth</span>
                                </div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row">
                                        <span class="data-label">HEX</span>
                                        <span class="data-value">#7D8853</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">RGB</span>
                                        <span class="data-value">125,136,83</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">HSV</span>
                                        <span class="data-value">72,39,53</span>
                                    </div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row">
                                        <span class="data-label">Source</span>
                                        <span class="data-value">Vendor</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Cost</span>
                                        <span class="data-value">216 G</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Market</span>
                                        <span class="data-value">Balmung</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="price-large">290 G</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Remove</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Ruby Red -->
                        <div class="harmony-card">
                            <div class="card-header">
                                <span class="dye-name">Ruby Red</span>
                            </div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #8c2530;">
                                    <span class="preview-label">Preview</span>
                                </div>
                                <div class="preview-half" style="background-color: #8c2530;">
                                    <span class="preview-label">Cloth</span>
                                </div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row">
                                        <span class="data-label">HEX</span>
                                        <span class="data-value">#8C2530</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">RGB</span>
                                        <span class="data-value">140,37,48</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">HSV</span>
                                        <span class="data-value">354,74,55</span>
                                    </div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row">
                                        <span class="data-label">Source</span>
                                        <span class="data-value">Crafted</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Cost</span>
                                        <span class="data-value">---</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Market</span>
                                        <span class="data-value">Balmung</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="price-large">1,800 G</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Remove</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Vision Simulations Section -->
                <section class="accessibility-section">
                    <div class="section-header">
                        <span class="section-title">Vision Simulations</span>
                    </div>
                    <div class="vision-simulations-grid">
                        <!-- Deuteranopia Card -->
                        <div class="vision-card">
                            <div class="vision-card-header">
                                <span class="vision-type-label">Deuteranopia</span>
                                <span class="vision-prevalence">~6% males</span>
                            </div>
                            <div class="vision-swatches">
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #6b6aa0;"></div>
                                    <span class="vision-swatch-label">Iris</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #5e5640;"></div>
                                    <span class="vision-swatch-label">Loam</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #7a7a53;"></div>
                                    <span class="vision-swatch-label">Olive</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #5e4830;"></div>
                                    <span class="vision-swatch-label">Ruby</span>
                                </div>
                            </div>
                        </div>

                        <!-- Protanopia Card -->
                        <div class="vision-card">
                            <div class="vision-card-header">
                                <span class="vision-type-label">Protanopia</span>
                                <span class="vision-prevalence">~2% males</span>
                            </div>
                            <div class="vision-swatches">
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #5e6aa8;"></div>
                                    <span class="vision-swatch-label">Iris</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #555640;"></div>
                                    <span class="vision-swatch-label">Loam</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #787a53;"></div>
                                    <span class="vision-swatch-label">Olive</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #4a4a30;"></div>
                                    <span class="vision-swatch-label">Ruby</span>
                                </div>
                            </div>
                        </div>

                        <!-- Tritanopia Card -->
                        <div class="vision-card">
                            <div class="vision-card-header">
                                <span class="vision-type-label">Tritanopia</span>
                                <span class="vision-prevalence">~0.01%</span>
                            </div>
                            <div class="vision-swatches">
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #7b6880;"></div>
                                    <span class="vision-swatch-label">Iris</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #6d5855;"></div>
                                    <span class="vision-swatch-label">Loam</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #7d8078;"></div>
                                    <span class="vision-swatch-label">Olive</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #8c3540;"></div>
                                    <span class="vision-swatch-label">Ruby</span>
                                </div>
                            </div>
                        </div>

                        <!-- Achromatopsia Card -->
                        <div class="vision-card">
                            <div class="vision-card-header">
                                <span class="vision-type-label">Achromatopsia</span>
                                <span class="vision-prevalence">~0.003%</span>
                            </div>
                            <div class="vision-swatches">
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #6a6a6a;"></div>
                                    <span class="vision-swatch-label">Iris</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #555555;"></div>
                                    <span class="vision-swatch-label">Loam</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #707070;"></div>
                                    <span class="vision-swatch-label">Olive</span>
                                </div>
                                <div class="vision-swatch-item">
                                    <div class="vision-swatch" style="background-color: #404040;"></div>
                                    <span class="vision-swatch-label">Ruby</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- WCAG Contrast Ratios Section -->
                <section class="accessibility-section">
                    <div class="section-header">
                        <span class="section-title">WCAG Contrast Ratios</span>
                    </div>
                    <div class="contrast-table-container">
                        <table class="contrast-table">
                            <thead>
                                <tr>
                                    <th class="dye-column">Dye</th>
                                    <th class="contrast-column">vs White</th>
                                    <th class="contrast-column">vs Black</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="dye-cell">
                                        <div class="dye-cell-content">
                                            <div class="dye-indicator" style="background-color: #7b5fa0;"></div>
                                            <span>Iris Purple</span>
                                        </div>
                                    </td>
                                    <td class="contrast-cell">
                                        <div class="contrast-cell-content">
                                            <span class="contrast-ratio">2.43:1</span>
                                            <span class="wcag-badge fail">Fail</span>
                                        </div>
                                    </td>
                                    <td class="contrast-cell">
                                        <div class="contrast-cell-content">
                                            <span class="contrast-ratio">8.63:1</span>
                                            <span class="wcag-badge aaa">AAA</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="dye-cell">
                                        <div class="dye-cell-content">
                                            <div class="dye-indicator" style="background-color: #6d5440;"></div>
                                            <span>Loam Brown</span>
                                        </div>
                                    </td>
                                    <td class="contrast-cell">
                                        <div class="contrast-cell-content">
                                            <span class="contrast-ratio">11.23:1</span>
                                            <span class="wcag-badge aaa">AAA</span>
                                        </div>
                                    </td>
                                    <td class="contrast-cell">
                                        <div class="contrast-cell-content">
                                            <span class="contrast-ratio">1.72:1</span>
                                            <span class="wcag-badge fail">Fail</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="dye-cell">
                                        <div class="dye-cell-content">
                                            <div class="dye-indicator" style="background-color: #7d8853;"></div>
                                            <span>Olive Green</span>
                                        </div>
                                    </td>
                                    <td class="contrast-cell">
                                        <div class="contrast-cell-content">
                                            <span class="contrast-ratio">8.13:1</span>
                                            <span class="wcag-badge aaa">AAA</span>
                                        </div>
                                    </td>
                                    <td class="contrast-cell">
                                        <div class="contrast-cell-content">
                                            <span class="contrast-ratio">2.55:1</span>
                                            <span class="wcag-badge fail">Fail</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="dye-cell">
                                        <div class="dye-cell-content">
                                            <div class="dye-indicator" style="background-color: #8c2530;"></div>
                                            <span>Ruby Red</span>
                                        </div>
                                    </td>
                                    <td class="contrast-cell">
                                        <div class="contrast-cell-content">
                                            <span class="contrast-ratio">4.95:1</span>
                                            <span class="wcag-badge aa">AA</span>
                                        </div>
                                    </td>
                                    <td class="contrast-cell">
                                        <div class="contrast-cell-content">
                                            <span class="contrast-ratio">4.24:1</span>
                                            <span class="wcag-badge fail">Fail</span>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Pairwise Contrast Comparison Section -->
                <section class="accessibility-section">
                    <div class="section-header">
                        <span class="section-title">Pairwise Contrast Comparison</span>
                    </div>
                    <div class="pairwise-container">
                        <table class="pairwise-matrix">
                            <thead>
                                <tr>
                                    <th class="matrix-corner"></th>
                                    <th class="matrix-header-cell">
                                        <div class="matrix-header-swatch" style="background-color: #7b5fa0;"></div>
                                        <span>Iris Purple</span>
                                    </th>
                                    <th class="matrix-header-cell">
                                        <div class="matrix-header-swatch" style="background-color: #6d5440;"></div>
                                        <span>Loam Brown</span>
                                    </th>
                                    <th class="matrix-header-cell">
                                        <div class="matrix-header-swatch" style="background-color: #7d8853;"></div>
                                        <span>Olive Green</span>
                                    </th>
                                    <th class="matrix-header-cell">
                                        <div class="matrix-header-swatch" style="background-color: #8c2530;"></div>
                                        <span>Ruby Red</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="matrix-row-header">
                                        <div class="matrix-row-swatch" style="background-color: #7b5fa0;"></div>
                                        <span>Iris Purple</span>
                                    </td>
                                    <td class="matrix-cell diagonal">—</td>
                                    <td class="matrix-cell warning">49%</td>
                                    <td class="matrix-cell warning">43%</td>
                                    <td class="matrix-cell good">54%</td>
                                </tr>
                                <tr>
                                    <td class="matrix-row-header">
                                        <div class="matrix-row-swatch" style="background-color: #6d5440;"></div>
                                        <span>Loam Brown</span>
                                    </td>
                                    <td class="matrix-cell warning">49%</td>
                                    <td class="matrix-cell diagonal">—</td>
                                    <td class="matrix-cell critical">8%</td>
                                    <td class="matrix-cell warning">30%</td>
                                </tr>
                                <tr>
                                    <td class="matrix-row-header">
                                        <div class="matrix-row-swatch" style="background-color: #7d8853;"></div>
                                        <span>Olive Green</span>
                                    </td>
                                    <td class="matrix-cell warning">43%</td>
                                    <td class="matrix-cell critical">8%</td>
                                    <td class="matrix-cell diagonal">—</td>
                                    <td class="matrix-cell warning">40%</td>
                                </tr>
                                <tr>
                                    <td class="matrix-row-header">
                                        <div class="matrix-row-swatch" style="background-color: #8c2530;"></div>
                                        <span>Ruby Red</span>
                                    </td>
                                    <td class="matrix-cell good">54%</td>
                                    <td class="matrix-cell warning">39%</td>
                                    <td class="matrix-cell warning">40%</td>
                                    <td class="matrix-cell diagonal">—</td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- Warning Callouts -->
                        <div class="pairwise-warnings">
                            <div class="warning-callout critical">
                                <svg class="warning-icon" viewBox="0 0 24 24">
                                    <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
                                </svg>
                                <span><strong>Loam Brown & Olive Green:</strong> Very similar – may be hard to
                                    distinguish</span>
                            </div>
                            <div class="warning-callout warning">
                                <svg class="warning-icon" viewBox="0 0 24 24">
                                    <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
                                </svg>
                                <span><strong>Loam Brown & Ruby Red:</strong> Similar – some users may have difficulty
                                    distinguishing</span>
                            </div>
                            <div class="warning-callout warning">
                                <svg class="warning-icon" viewBox="0 0 24 24">
                                    <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
                                </svg>
                                <span><strong>Olive Green & Ruby Red:</strong> Hard to distinguish for protanopia
                                    (red-green)</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Dye Comparison View -->
            <div class="comparison-view" style="display: none;">

                <!-- Selected Dyes Section -->
                <div class="comparison-section">
                    <div class="section-header">
                        <span class="section-title">Selected Dyes</span>
                    </div>
                    <div class="comparison-cards-row">
                        <!-- Seafog Blue -->
                        <div class="harmony-card">
                            <div class="card-header">
                                <span class="dye-name">Seafog Blue</span>
                            </div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #9EC6C3;">
                                    <span class="preview-label">Preview</span>
                                </div>
                                <div class="preview-half" style="background-color: #9EC6C3;">
                                    <span class="preview-label">Cloth</span>
                                </div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row">
                                        <span class="data-label">HEX</span>
                                        <span class="data-value">#9EC6C3</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">RGB</span>
                                        <span class="data-value">158,198,195</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">HSV</span>
                                        <span class="data-value">176,20,78</span>
                                    </div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row">
                                        <span class="data-label">Source</span>
                                        <span class="data-value">Vendor</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Cost</span>
                                        <span class="data-value">216 G</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Market</span>
                                        <span class="data-value">Balmung</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="price-large">320 G</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Remove</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Deepwood Green -->
                        <div class="harmony-card">
                            <div class="card-header">
                                <span class="dye-name">Deepwood Green</span>
                            </div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #3C4A3C;">
                                    <span class="preview-label">Preview</span>
                                </div>
                                <div class="preview-half" style="background-color: #3C4A3C;">
                                    <span class="preview-label">Cloth</span>
                                </div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row">
                                        <span class="data-label">HEX</span>
                                        <span class="data-value">#3C4A3C</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">RGB</span>
                                        <span class="data-value">60,74,60</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">HSV</span>
                                        <span class="data-value">120,19,29</span>
                                    </div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row">
                                        <span class="data-label">Source</span>
                                        <span class="data-value">Crafted</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Cost</span>
                                        <span class="data-value">---</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Market</span>
                                        <span class="data-value">Balmung</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="price-large">1,250 G</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Remove</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Dragoon Blue -->
                        <div class="harmony-card">
                            <div class="card-header">
                                <span class="dye-name">Dragoon Blue</span>
                            </div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #1E3A8A;">
                                    <span class="preview-label">Preview</span>
                                </div>
                                <div class="preview-half" style="background-color: #1E3A8A;">
                                    <span class="preview-label">Cloth</span>
                                </div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row">
                                        <span class="data-label">HEX</span>
                                        <span class="data-value">#1E3A8A</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">RGB</span>
                                        <span class="data-value">30,58,138</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">HSV</span>
                                        <span class="data-value">224,78,54</span>
                                    </div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row">
                                        <span class="data-label">Source</span>
                                        <span class="data-value">Vendor</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Cost</span>
                                        <span class="data-value">216 G</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Market</span>
                                        <span class="data-value">Balmung</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="price-large">450 G</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Remove</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Vanilla Yellow -->
                        <div class="harmony-card">
                            <div class="card-header">
                                <span class="dye-name">Vanilla Yellow</span>
                            </div>
                            <div class="card-preview">
                                <div class="preview-half" style="background-color: #F4E4A8;">
                                    <span class="preview-label">Preview</span>
                                </div>
                                <div class="preview-half" style="background-color: #F4E4A8;">
                                    <span class="preview-label">Cloth</span>
                                </div>
                            </div>
                            <div class="card-details">
                                <div class="detail-col">
                                    <div class="col-header">Technical</div>
                                    <div class="data-row">
                                        <span class="data-label">HEX</span>
                                        <span class="data-value">#F4E4A8</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">RGB</span>
                                        <span class="data-value">244,228,168</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">HSV</span>
                                        <span class="data-value">47,31,96</span>
                                    </div>
                                </div>
                                <div class="detail-col">
                                    <div class="col-header">Acquisition</div>
                                    <div class="data-row">
                                        <span class="data-label">Source</span>
                                        <span class="data-value">Vendor</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Cost</span>
                                        <span class="data-value">216 G</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Market</span>
                                        <span class="data-value">Balmung</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="price-large">280 G</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="action-row">
                                    <button class="primary-action-btn">Remove</button>
                                    <div class="context-menu-container">
                                        <button class="context-menu-btn">
                                            <svg class="icon" viewBox="0 0 24 24" style="width:18px;height:18px;">
                                                <path
                                                    d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Statistics Section -->
                <div class="comparison-section">
                    <div class="section-header">
                        <span class="section-title">Statistics</span>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value">49<span class="stat-unit">%</span></div>
                            <div class="stat-label">Avg Saturation</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">60<span class="stat-unit">%</span></div>
                            <div class="stat-label">Avg Brightness</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">184<span class="stat-unit">°</span></div>
                            <div class="stat-label">Hue Range</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">218.7</div>
                            <div class="stat-label">Avg Distance</div>
                        </div>
                    </div>
                </div>

                <!-- Visualizations Section -->
                <div class="comparison-section visualizations-row">

                    <!-- Hue-Saturation Plot -->
                    <div class="hue-sat-container">
                        <div class="chart-title">Hue-Saturation Plot</div>
                        <div class="hue-sat-plot">
                            <!-- Axis Labels -->
                            <div class="axis-label y-axis">Saturation</div>
                            <div class="axis-label x-axis">Hue</div>

                            <!-- Plot Wrapper -->
                            <div class="plot-wrapper">
                                <!-- Grid Lines (Horizontal) -->
                                <div class="plot-grid-line horizontal" style="bottom: 25%;"></div>
                                <div class="plot-grid-line horizontal" style="bottom: 50%;"></div>
                                <div class="plot-grid-line horizontal" style="bottom: 75%;"></div>

                                <!-- Grid Lines (Vertical) -->
                                <div class="plot-grid-line vertical" style="left: 25%;"></div>
                                <div class="plot-grid-line vertical" style="left: 50%;"></div>
                                <div class="plot-grid-line vertical" style="left: 75%;"></div>

                                <!-- Plot Area -->
                                <div class="plot-area">
                                    <!-- Y-axis ticks -->
                                    <span class="axis-tick y-tick" style="bottom: 0;">0%</span>
                                    <span class="axis-tick y-tick" style="bottom: 25%;">25%</span>
                                    <span class="axis-tick y-tick" style="bottom: 50%;">50%</span>
                                    <span class="axis-tick y-tick" style="bottom: 75%;">75%</span>
                                    <span class="axis-tick y-tick" style="bottom: 100%;">100%</span>

                                    <!-- X-axis ticks -->
                                    <span class="axis-tick x-tick" style="left: 0;">0°</span>
                                    <span class="axis-tick x-tick" style="left: 25%;">90°</span>
                                    <span class="axis-tick x-tick" style="left: 50%;">180°</span>
                                    <span class="axis-tick x-tick" style="left: 75%;">270°</span>
                                    <span class="axis-tick x-tick" style="left: 100%;">360°</span>

                                    <!-- Plot Nodes (positioned by Hue % on X, Saturation % on Y) -->
                                    <!-- Seafog Blue: Hue ~180°, Sat 25% => left:50%, bottom:25% -->
                                    <div class="plot-node" style="left: 50%; bottom: 25%; background-color: #9EC6C3;"
                                        data-label="Seafog Blue"></div>

                                    <!-- Deepwood Green: Hue ~120°, Sat 16% => left:33%, bottom:16% -->
                                    <div class="plot-node" style="left: 33%; bottom: 16%; background-color: #3C4A3C;"
                                        data-label="Deepwood Green"></div>

                                    <!-- Dragoon Blue: Hue ~220°, Sat 78% => left:61%, bottom:78% -->
                                    <div class="plot-node" style="left: 61%; bottom: 78%; background-color: #1E3A8A;"
                                        data-label="Dragoon Blue"></div>

                                    <!-- Vanilla Yellow: Hue ~45°, Sat 31% => left:12.5%, bottom:31% -->
                                    <div class="plot-node" style="left: 12.5%; bottom: 31%; background-color: #F4E4A8;"
                                        data-label="Vanilla Yellow"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Brightness Distribution Chart -->
                    <div class="brightness-container">
                        <div class="chart-title">Brightness Distribution</div>
                        <div class="brightness-chart">
                            <div class="bar-chart-area">
                                <!-- Seafog Blue: 63% brightness -->
                                <div class="bar-item">
                                    <div class="bar" style="height: 63%; background-color: #9EC6C3;">
                                        <span class="bar-value">63%</span>
                                    </div>
                                    <span class="bar-label">Seafog Blue</span>
                                </div>

                                <!-- Deepwood Green: 16% brightness -->
                                <div class="bar-item">
                                    <div class="bar" style="height: 16%; background-color: #3C4A3C;">
                                        <span class="bar-value">16%</span>
                                    </div>
                                    <span class="bar-label">Deepwood</span>
                                </div>

                                <!-- Dragoon Blue: 62% brightness -->
                                <div class="bar-item">
                                    <div class="bar" style="height: 62%; background-color: #1E3A8A;">
                                        <span class="bar-value">62%</span>
                                    </div>
                                    <span class="bar-label">Dragoon Blue</span>
                                </div>

                                <!-- Vanilla Yellow: 98% brightness -->
                                <div class="bar-item">
                                    <div class="bar" style="height: 98%; background-color: #F4E4A8;">
                                        <span class="bar-value">98%</span>
                                    </div>
                                    <span class="bar-label">Vanilla Yellow</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Color Distance Matrix Section -->
                <div class="comparison-section">
                    <div class="section-header">
                        <span class="section-title">Color Distance Matrix</span>
                    </div>
                    <div class="distance-matrix-container">
                        <table class="pairwise-matrix">
                            <thead>
                                <tr>
                                    <th class="matrix-corner"></th>
                                    <th class="matrix-header-cell">
                                        <div class="matrix-header-swatch" style="background-color: #9EC6C3;"></div>
                                        <span>Seafog Blue</span>
                                    </th>
                                    <th class="matrix-header-cell">
                                        <div class="matrix-header-swatch" style="background-color: #3C4A3C;"></div>
                                        <span>Deepwood</span>
                                    </th>
                                    <th class="matrix-header-cell">
                                        <div class="matrix-header-swatch" style="background-color: #1E3A8A;"></div>
                                        <span>Dragoon Blue</span>
                                    </th>
                                    <th class="matrix-header-cell">
                                        <div class="matrix-header-swatch" style="background-color: #F4E4A8;"></div>
                                        <span>Vanilla Yellow</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="matrix-row-header">
                                        <div class="matrix-row-swatch" style="background-color: #9EC6C3;"></div>
                                        <span>Seafog Blue</span>
                                    </td>
                                    <td class="matrix-cell diagonal">—</td>
                                    <td class="matrix-cell distance-medium"><span class="distance-value">169.1</span>
                                    </td>
                                    <td class="matrix-cell distance-medium"><span class="distance-value">154.7</span>
                                    </td>
                                    <td class="matrix-cell distance-medium"><span class="distance-value">188.0</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="matrix-row-header">
                                        <div class="matrix-row-swatch" style="background-color: #3C4A3C;"></div>
                                        <span>Deepwood</span>
                                    </td>
                                    <td class="matrix-cell distance-medium"><span class="distance-value">169.1</span>
                                    </td>
                                    <td class="matrix-cell diagonal">—</td>
                                    <td class="matrix-cell distance-medium"><span class="distance-value">131.3</span>
                                    </td>
                                    <td class="matrix-cell distance-high"><span class="distance-value">349.0</span></td>
                                </tr>
                                <tr>
                                    <td class="matrix-row-header">
                                        <div class="matrix-row-swatch" style="background-color: #1E3A8A;"></div>
                                        <span>Dragoon Blue</span>
                                    </td>
                                    <td class="matrix-cell distance-medium"><span class="distance-value">154.7</span>
                                    </td>
                                    <td class="matrix-cell distance-medium"><span class="distance-value">131.3</span>
                                    </td>
                                    <td class="matrix-cell diagonal">—</td>
                                    <td class="matrix-cell distance-high"><span class="distance-value">340.2</span></td>
                                </tr>
                                <tr>
                                    <td class="matrix-row-header">
                                        <div class="matrix-row-swatch" style="background-color: #F4E4A8;"></div>
                                        <span>Vanilla Yellow</span>
                                    </td>
                                    <td class="matrix-cell distance-medium"><span class="distance-value">188.0</span>
                                    </td>
                                    <td class="matrix-cell distance-high"><span class="distance-value">349.0</span></td>
                                    <td class="matrix-cell distance-high"><span class="distance-value">340.2</span></td>
                                    <td class="matrix-cell diagonal">—</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>

        <!-- Dye Selection Drawer -->
        <aside class="dye-drawer glass">
            <div class="drawer-header">
                <span class="drawer-title">Color Palette</span>
                <button class="nav-btn"><svg class="icon" viewBox="0 0 24 24">
                        <path
                            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                    </svg></button>
            </div>

            <div class="drawer-content">
                <!-- Favorites -->
                <div class="section-label">
                    <span>Favorites</span>
                    <svg class="icon" style="width: 16px; height: 16px;" viewBox="0 0 24 24">
                        <path
                            d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                    </svg>
                </div>
                <div class="favorites-section">
                    <div class="swatch-grid" style="grid-template-columns: repeat(5, 1fr); margin-bottom: 0;">
                        <!-- Mock Favorites -->
                        <div class="swatch" style="background-color: #2b3352;" title="Dragoon Blue"></div>
                        <div class="swatch" style="background-color: #f7f7f7;" title="Pure White"></div>
                        <div class="swatch" style="background-color: #8c2530;" title="Rolanberry Red"></div>
                    </div>
                </div>

                <!-- Filters -->
                <div class="filter-bar">
                    <div class="filter-chip active">All</div>
                    <div class="filter-chip">Metallic</div>
                    <div class="filter-chip">Pastel</div>
                    <div class="filter-chip">Dark</div>
                    <div class="filter-chip">Vibrant</div>
                </div>

                <div class="section-label">Natural Tones</div>

                <!-- Main Grid -->
                <div class="swatch-grid">
                    <div class="swatch" style="background-color: #f6efe3;"></div>
                    <div class="swatch selected" style="background-color: #e5dac1;"></div>
                    <div class="swatch" style="background-color: #bfaea2;"></div>
                    <div class="swatch" style="background-color: #928678;"></div>
                    <div class="swatch" style="background-color: #5c544d;"></div>

                    <div class="swatch" style="background-color: #d8c29e;"></div>
                    <div class="swatch" style="background-color: #ac8e6b;"></div>
                    <div class="swatch selected" style="background-color: #6d5440;"></div>
                    <div class="swatch" style="background-color: #4b392b;"></div>
                    <div class="swatch" style="background-color: #2b2016;"></div>
                </div>

                <div class="section-label">Red Tones</div>
                <div class="swatch-grid">
                    <div class="swatch" style="background-color: #e4bbcaba;"></div>
                    <div class="swatch" style="background-color: #b33941;"></div>
                    <div class="swatch" style="background-color: #8c2530;"></div>
                    <div class="swatch selected" style="background-color: #631016;"></div>
                    <div class="swatch" style="background-color: #3b0507;"></div>
                </div>
            </div>
        </aside>

    </div>

    <script>
        // Simple Prototype Logic
        document.querySelectorAll('.primary-action-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                // Find the card this button belongs to
                const card = e.target.closest('.harmony-card');
                const colorPreview = card.querySelector('.card-preview .preview-half:last-child');
                const color = colorPreview.style.backgroundColor;
                const name = card.querySelector('.dye-name').innerText;

                // Update Main Display
                const mainDisplay = document.querySelector('.main-swatch-display');
                mainDisplay.style.backgroundColor = color;
                mainDisplay.setAttribute('title', 'Base Color: ' + name);

                // Visual feedback
                const originalText = e.target.innerText;
                e.target.innerText = "Selected!";
                setTimeout(() => {
                    e.target.innerText = originalText;
                }, 1000);
            });
        });

        // Toggle Context Menus
        document.querySelectorAll('.context-menu-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const container = e.target.closest('.context-menu-container');
                const menu = container.querySelector('.context-menu');

                // Close others
                document.querySelectorAll('.context-menu').forEach(m => {
                    if (m !== menu) m.classList.remove('visible');
                });
                document.querySelectorAll('.context-menu-btn').forEach(b => {
                    if (b !== btn) b.classList.remove('active');
                });

                menu.classList.toggle('visible');
                btn.classList.toggle('active');
                e.stopPropagation();
            });
        });

        // Close menus on click outside
        document.addEventListener('click', () => {
            document.querySelectorAll('.context-menu').forEach(m => m.classList.remove('visible'));
            document.querySelectorAll('.context-menu-btn').forEach(b => b.classList.remove('active'));
        });

        // Prevent closing when clicking inside menu
        document.querySelectorAll('.context-menu-container').forEach(c => {
            c.addEventListener('click', (e) => e.stopPropagation());
        });

        // Tool Switching Logic
        const buttons = document.querySelectorAll('.tool-btn');
        // Views
        const harmonyView = document.querySelector('.harmony-view');
        const gradientView = document.querySelector('.gradient-view');
        const extractorView = document.querySelector('.palette-extractor-view');
        const budgetView = document.querySelector('.budget-view');
        const matcherView = document.querySelector('.matcher-view');
        const accessibilityView = document.querySelector('.accessibility-view');
        const comparisonView = document.querySelector('.comparison-view');

        // Configs
        const harmonyConfig = document.querySelector('.harmony-config');
        const gradientConfig = document.querySelector('.gradient-config');
        const extractorConfig = document.querySelector('.extractor-config');
        const budgetConfig = document.querySelector('.budget-config');
        const matcherConfig = document.querySelector('.matcher-config');
        const accessibilityConfig = document.querySelector('.accessibility-config');
        const comparisonConfig = document.querySelector('.comparison-config');

        const sidebar = document.querySelector('.config-sidebar');

        // Helper to hide all
        function hideAllViews() {
            harmonyView.style.display = 'none';
            gradientView.style.display = 'none';
            if (extractorView) extractorView.style.display = 'none';
            if (budgetView) budgetView.style.display = 'none';
            const mixer = document.querySelector('.dye-mixer-view');
            if (mixer) mixer.style.display = 'none';

            harmonyConfig.style.display = 'none';
            gradientConfig.style.display = 'none';
            if (extractorConfig) extractorConfig.style.display = 'none';
            if (budgetConfig) budgetConfig.style.display = 'none';
            const mixerConfig = document.querySelector('.mixer-config');
            if (mixerConfig) mixerConfig.style.display = 'none';
            if (matcherView) matcherView.style.display = 'none';
            if (matcherConfig) matcherConfig.style.display = 'none';
            if (accessibilityView) accessibilityView.style.display = 'none';
            if (accessibilityConfig) accessibilityConfig.style.display = 'none';
            if (comparisonView) comparisonView.style.display = 'none';
            if (comparisonConfig) comparisonConfig.style.display = 'none';

            buttons.forEach(b => b.classList.remove('active'));
        }

        // Logic for tool switching
        buttons.forEach((btn, index) => {
            btn.addEventListener('click', () => {
                hideAllViews();
                btn.classList.add('active');

                // Identify Tool based on Title
                const title = btn.getAttribute('title');

                // Default Harmony config for tools without specific config
                let showHarmonyConfig = false;

                if (title === 'Swatch Matcher' && matcherView) {
                    matcherView.style.display = 'flex';
                    if (matcherConfig) matcherConfig.style.display = 'block';
                    renderWatcherGrid(); // Ensure grid is rendered
                }

                else if (title === 'Harmony Explorer') {
                    harmonyView.style.display = 'flex';
                    harmonyConfig.style.display = 'block';
                }
                else if (title === 'Palette Extractor' && extractorView) {
                    extractorView.style.display = 'block';
                    if (extractorConfig) extractorConfig.style.display = 'block';
                }
                else if (title === 'Gradient Builder') {
                    gradientView.style.display = 'flex';
                    gradientConfig.style.display = 'block';
                }
                else if (title === 'Dye Mixer') {
                    const mixer = document.querySelector('.dye-mixer-view');
                    if (mixer) mixer.style.display = 'flex';
                    const mixerConfig = document.querySelector('.mixer-config');
                    if (mixerConfig) mixerConfig.style.display = 'block';
                }
                else if (title === 'Budget Suggestions' && budgetView) {
                    budgetView.style.display = 'flex';
                    if (budgetConfig) budgetConfig.style.display = 'block';
                }
                else if (title === 'Accessibility Checker' && accessibilityView) {
                    accessibilityView.style.display = 'flex';
                    if (accessibilityConfig) accessibilityConfig.style.display = 'block';
                }
                else if (title === 'Dye Comparison' && comparisonView) {
                    comparisonView.style.display = 'flex';
                    if (comparisonConfig) comparisonConfig.style.display = 'block';
                }
                else {
                    // Fallback / Placeholder
                    harmonyView.style.display = 'flex';
                    harmonyConfig.style.display = 'block';
                }
            });
        });

        // Simple Slider Logic (Visual Only)
        const slider = document.querySelector('.step-slider');
        const valDisplay = document.getElementById('step-count-val');
        if (slider && valDisplay) {
            slider.addEventListener('input', (e) => {
                valDisplay.innerText = e.target.value;
            });
        }

        const mixerSlider = document.getElementById('mixer-result-slider');
        const mixerValDisplay = document.getElementById('mixer-count-val');
        if (mixerSlider && mixerValDisplay) {
            mixerSlider.addEventListener('input', (e) => {
                mixerValDisplay.innerText = e.target.value;
            });
        }

        const matcherSlider = document.getElementById('matcher-result-slider');
        const matcherValDisplay = document.getElementById('matcher-count-val');
        if (matcherSlider && matcherValDisplay) {
            matcherSlider.addEventListener('input', (e) => {
                matcherValDisplay.innerText = e.target.value;
            });
        }

        // --- Swatch Matcher Logic ---

        // Raw CSV Data (Embedded for Prototype)
        const eyeColorsCSV = `Index,Offset,Hex,R,G,B,A,H,S,V
0,0,#F7F7F7,247,247,247,255,0.0,0.000,0.969
1,1,#E7E7E7,231,231,231,255,0.0,0.000,0.906
2,2,#D3D3D3,211,211,211,255,0.0,0.000,0.827
3,3,#B3B3B3,179,179,179,255,0.0,0.000,0.702
4,4,#878787,135,135,135,255,0.0,0.000,0.529
5,5,#5C5C5C,92,92,92,255,0.0,0.000,0.361
6,6,#3B3B3B,59,59,59,255,0.0,0.000,0.231
7,7,#262626,38,38,38,255,0.0,0.000,0.149
8,8,#FCF9EB,252,249,235,255,49.4,0.067,0.988
9,9,#FAF7DF,250,247,223,255,53.3,0.108,0.980
10,10,#F0EACB,240,234,203,255,50.3,0.154,0.941
11,11,#D7CFAF,215,207,175,255,48.0,0.186,0.843
12,12,#B9AF90,185,175,144,255,45.4,0.222,0.725
13,13,#998C70,153,140,112,255,41.0,0.268,0.600
14,14,#7B6B52,123,107,82,255,36.6,0.333,0.482
15,15,#63513A,99,81,58,255,33.7,0.414,0.388
16,16,#FAF6E1,250,246,225,255,50.4,0.100,0.980
17,17,#F7F0CF,247,240,207,255,49.5,0.162,0.969
18,18,#EDE2B6,237,226,182,255,48.0,0.232,0.929
19,19,#D4C89B,212,200,155,255,47.4,0.269,0.831
20,20,#B7A981,183,169,129,255,44.4,0.295,0.718
21,21,#978764,151,135,100,255,41.2,0.338,0.592
22,22,#7A6849,122,104,73,255,38.0,0.402,0.478
23,23,#634F33,99,79,51,255,35.0,0.485,0.388
24,24,#F9F1D4,249,241,212,255,47.0,0.149,0.976
25,25,#F4E8BB,244,232,187,255,47.4,0.234,0.957
26,26,#E9D79B,233,215,155,255,46.2,0.335,0.914
27,27,#D1BD82,209,189,130,255,44.8,0.378,0.820
28,28,#B49F6B,180,159,107,255,42.7,0.406,0.706
29,29,#957F53,149,127,83,255,40.0,0.443,0.584
30,30,#78613D,120,97,61,255,36.6,0.492,0.471
31,31,#614A2C,97,74,44,255,34.0,0.546,0.380
32,32,#F5E9C7,245,233,199,255,44.3,0.188,0.961
33,33,#F0DDA7,240,221,167,255,44.4,0.304,0.941
34,34,#E2C982,226,201,130,255,44.4,0.425,0.886
35,35,#CBAF69,203,175,105,255,42.9,0.483,0.796
36,36,#AE9357,174,147,87,255,41.4,0.500,0.682
37,37,#907644,144,118,68,255,39.5,0.528,0.565
38,38,#745A32,116,90,50,255,36.4,0.569,0.455
39,39,#5E4524,94,69,36,255,34.1,0.617,0.369
40,40,#F2E2BC,242,226,188,255,42.2,0.223,0.949
41,41,#EBD296,235,210,150,255,42.4,0.362,0.922
42,42,#DCBA6C,220,186,108,255,41.8,0.509,0.863
43,43,#C4A154,196,161,84,255,41.2,0.571,0.769
44,44,#A98746,169,135,70,255,39.4,0.586,0.663
45,45,#8B6C36,139,108,54,255,38.1,0.612,0.545
46,46,#705328,112,83,40,255,35.8,0.643,0.439
47,47,#5A3F1C,90,63,28,255,33.9,0.689,0.353
48,48,#EFD8B3,239,216,179,255,37.0,0.251,0.937
49,49,#E5C287,229,194,135,255,37.7,0.410,0.898
50,50,#D5A658,213,166,88,255,37.4,0.587,0.835
51,51,#BD8E41,189,142,65,255,37.3,0.656,0.741
52,52,#A37836,163,120,54,255,36.3,0.669,0.639
53,53,#865F2A,134,95,42,255,34.6,0.687,0.525
54,54,#6C4A1F,108,74,31,255,33.5,0.713,0.424
55,55,#583917,88,57,23,255,31.4,0.739,0.345
56,56,#EBCEAC,235,206,172,255,32.4,0.268,0.922
57,57,#E1B27C,225,178,124,255,32.1,0.449,0.882
58,58,#CF9149,207,145,73,255,32.2,0.647,0.812
59,59,#B87A34,184,122,52,255,31.8,0.717,0.722
60,60,#9E662B,158,102,43,255,30.8,0.728,0.620
61,61,#835222,131,82,34,255,29.7,0.740,0.514
62,62,#693F19,105,63,25,255,28.5,0.762,0.412
63,63,#553112,85,49,18,255,27.8,0.788,0.333
64,64,#E8C5A9,232,197,169,255,26.7,0.272,0.910
65,65,#DBA477,219,164,119,255,27.0,0.457,0.859
66,66,#C87E43,200,126,67,255,26.6,0.665,0.784
67,67,#B1672D,177,103,45,255,26.4,0.746,0.694
68,68,#985726,152,87,38,255,25.8,0.750,0.596
69,69,#7D461D,125,70,29,255,25.6,0.768,0.490
70,70,#653616,101,54,22,255,24.3,0.782,0.396
71,71,#512910,81,41,16,255,23.1,0.802,0.318
72,72,#E5BCA9,229,188,169,255,19.0,0.262,0.898
73,73,#D79577,215,149,119,255,18.8,0.447,0.843
74,74,#C26B43,194,107,67,255,18.9,0.655,0.761
75,75,#AA552E,170,85,46,255,18.9,0.729,0.667
76,76,#934826,147,72,38,255,18.7,0.741,0.576
77,77,#7A3A1E,122,58,30,255,18.3,0.754,0.478
78,78,#622D17,98,45,23,255,17.6,0.765,0.384
79,79,#4F2311,79,35,17,255,17.4,0.785,0.310
80,80,#E3B4AC,227,180,172,255,8.7,0.242,0.890
81,81,#D3887C,211,136,124,255,8.3,0.412,0.827
82,82,#BB5948,187,89,72,255,8.9,0.615,0.733
83,83,#A54433,165,68,51,255,8.9,0.691,0.647
84,84,#8E392B,142,57,43,255,8.5,0.697,0.557
85,85,#752F22,117,47,34,255,9.4,0.709,0.459
86,86,#5E2419,94,36,25,255,9.6,0.734,0.369
87,87,#4C1C12,76,28,18,255,10.3,0.763,0.298
88,88,#DFAEB1,223,174,177,255,356.3,0.220,0.875
89,89,#CE7F84,206,127,132,255,356.2,0.383,0.808
90,90,#B64D52,182,77,82,255,357.1,0.577,0.714
91,91,#9F383D,159,56,61,255,357.1,0.648,0.624
92,92,#8A3033,138,48,51,255,358.0,0.652,0.541
93,93,#722728,114,39,40,255,359.2,0.658,0.447
94,94,#5C1E1E,92,30,30,255,0.0,0.674,0.361
95,95,#4A1716,74,23,22,255,1.2,0.703,0.290
96,96,#DAA8B7,218,168,183,255,342.0,0.229,0.855
97,97,#C5768D,197,118,141,255,342.5,0.401,0.773
98,98,#AB415F,171,65,95,255,343.0,0.620,0.671
99,99,#942C48,148,44,72,255,343.8,0.703,0.580
100,100,#80263C,128,38,60,255,345.3,0.703,0.502
101,101,#691F2F,105,31,47,255,347.0,0.705,0.412
102,102,#551823,85,24,35,255,349.2,0.718,0.333
103,103,#451319,69,19,25,255,352.8,0.725,0.271
104,104,#D4A4BD,212,164,189,255,328.8,0.226,0.831
105,105,#BC6F97,188,111,151,255,328.8,0.410,0.737
106,106,#9E386D,158,56,109,255,328.8,0.646,0.620
107,107,#882457,136,36,87,255,329.4,0.735,0.533
108,108,#751F48,117,31,72,255,331.4,0.735,0.459
109,109,#601938,96,25,56,255,333.8,0.740,0.376
110,110,#4E1429,78,20,41,255,338.3,0.744,0.306
111,111,#3F101E,63,16,30,255,342.1,0.746,0.247
112,112,#CDA3C4,205,163,196,255,312.9,0.205,0.804
113,113,#AC719F,172,113,159,255,313.2,0.343,0.675
114,114,#8B3B79,139,59,121,255,313.5,0.576,0.545
115,115,#7A2163,122,33,99,255,315.5,0.730,0.478
116,116,#691D52,105,29,82,255,318.2,0.724,0.412
117,117,#57173F,87,23,63,255,322.5,0.736,0.341
118,118,#46122D,70,18,45,255,328.8,0.743,0.275
119,119,#380E20,56,14,32,255,334.3,0.750,0.220
120,120,#C5A5CB,197,165,203,255,290.5,0.187,0.796
121,121,#A471AC,164,113,172,255,291.9,0.343,0.675
122,122,#7E3B88,126,59,136,255,292.2,0.566,0.533
123,123,#682670,104,38,112,255,293.5,0.661,0.439
124,124,#59205C,89,32,92,255,297.0,0.652,0.361
125,125,#4A1A46,74,26,70,255,305.0,0.649,0.290
126,126,#3B1433,59,20,51,255,312.3,0.661,0.231
127,127,#300F23,48,15,35,255,323.6,0.687,0.188
128,128,#BDABD1,189,171,209,255,268.4,0.182,0.820
129,129,#977AB5,151,122,181,255,269.5,0.326,0.710
130,130,#6C4694,108,70,148,255,269.2,0.527,0.580
131,131,#58317B,88,49,123,255,271.6,0.602,0.482
132,132,#4B2965,75,41,101,255,274.0,0.594,0.396
133,133,#3E224D,62,34,77,255,279.1,0.558,0.302
134,134,#311A38,49,26,56,255,286.0,0.536,0.220
135,135,#271326,39,19,38,255,303.0,0.513,0.153
136,136,#B6B3D3,182,179,211,255,245.6,0.152,0.827
137,137,#8C87B9,140,135,185,255,246.0,0.270,0.725
138,138,#605799,96,87,153,255,248.2,0.431,0.600
139,139,#4A427F,74,66,127,255,247.9,0.480,0.498
140,140,#403769,64,55,105,255,250.8,0.476,0.412
141,141,#342B51,52,43,81,255,254.2,0.469,0.318
142,142,#2A223A,42,34,58,255,260.0,0.414,0.227
143,143,#201928,32,25,40,255,268.0,0.375,0.157
144,144,#B0BBD2,176,187,210,255,220.6,0.162,0.824
145,145,#8293B8,130,147,184,255,221.1,0.293,0.722
146,146,#516997,81,105,151,255,219.4,0.464,0.592
147,147,#3D527E,61,82,126,255,220.6,0.516,0.494
148,148,#344568,52,69,104,255,220.4,0.500,0.408
149,149,#2A3750,42,55,80,255,219.5,0.475,0.314
150,150,#222A39,34,42,57,255,219.1,0.404,0.224
151,151,#1C2028,28,32,40,255,220.0,0.300,0.157
152,152,#ABC4CE,171,196,206,255,197.1,0.170,0.808
153,153,#7AA2B1,122,162,177,255,196.4,0.311,0.694
154,154,#477C8F,71,124,143,255,195.8,0.503,0.561
155,155,#326475,50,100,117,255,195.2,0.573,0.459
156,156,#2B5561,43,85,97,255,193.3,0.557,0.380
157,157,#234349,35,67,73,255,189.5,0.521,0.286
158,158,#1C3335,28,51,53,255,184.8,0.472,0.208
159,159,#162725,22,39,37,255,172.9,0.436,0.153
160,160,#A7CDC8,167,205,200,255,172.1,0.185,0.804
161,161,#74AFA8,116,175,168,255,172.9,0.337,0.686
162,162,#3F8C83,63,140,131,255,173.0,0.550,0.549
163,163,#2B756A,43,117,106,255,171.1,0.632,0.459
164,164,#266358,38,99,88,255,169.2,0.616,0.388
165,165,#1F4F43,31,79,67,255,165.0,0.608,0.310
166,166,#193D31,25,61,49,255,160.0,0.590,0.239
167,167,#142E22,20,46,34,255,152.3,0.565,0.180
168,168,#B3D7C5,179,215,197,255,150.0,0.167,0.843
169,169,#87C0A3,135,192,163,255,149.5,0.297,0.753
170,170,#58A27C,88,162,124,255,149.2,0.457,0.635
171,171,#448A67,68,138,103,255,150.0,0.507,0.541
172,172,#3A7456,58,116,86,255,149.0,0.500,0.455
173,173,#315C43,49,92,67,255,145.1,0.467,0.361
174,174,#264732,38,71,50,255,141.8,0.465,0.278
175,175,#1E3524,30,53,36,255,135.7,0.434,0.208
176,176,#D1DFC6,209,223,198,255,93.6,0.112,0.875
177,177,#B8CEA5,184,206,165,255,92.2,0.199,0.808
178,178,#98B67A,152,182,122,255,90.0,0.330,0.714
179,179,#7EA158,126,161,88,255,88.8,0.453,0.631
180,180,#698647,105,134,71,255,87.6,0.470,0.525
181,181,#52653D,82,101,61,255,88.5,0.396,0.396
182,182,#404D30,64,77,48,255,86.9,0.377,0.302
183,183,#313A24,49,58,36,255,84.5,0.379,0.227
184,184,#EBE8CE,235,232,206,255,53.8,0.123,0.922
185,185,#E1DFB6,225,223,182,255,57.2,0.191,0.882
186,186,#CED097,206,208,151,255,62.1,0.274,0.816
187,187,#B1B97D,177,185,125,255,68.0,0.324,0.725
188,188,#939D59,147,157,89,255,68.8,0.433,0.616
189,189,#6E763E,110,118,62,255,68.6,0.475,0.463
190,190,#525731,82,87,49,255,67.9,0.437,0.341
191,191,#3D4025,61,64,37,255,66.7,0.422,0.251
`;

        function parseCSV(csvText) {
            // Robust split for various newline formats and filter empty lines
            const lines = csvText.split(/\r?\n/).filter(l => l.trim() !== '');
            const headers = lines[0].split(',').map(h => h.trim());
            const data = [];
            for (let i = 1; i < lines.length; i++) {
                const values = lines[i].split(',');
                const obj = {};
                for (let j = 0; j < headers.length; j++) {
                    const val = values[j] ? values[j].trim() : '';
                    // Parse numbers
                    if (!isNaN(val) && val !== '') {
                        obj[headers[j]] = parseFloat(val);
                    } else {
                        obj[headers[j]] = val;
                    }
                }
                data.push(obj);
            }
            return data;
        }

        const MATCH_DATA = parseCSV(eyeColorsCSV);

        // Render Grid
        function renderWatcherGrid() {
            const grid = document.getElementById('matcher-grid');
            if (!grid || grid.innerHTML !== '') return; // Already rendered

            MATCH_DATA.forEach(item => {
                const el = document.createElement('div');
                el.className = 'sheet-swatch';
                el.style.backgroundColor = item.Hex;
                el.title = `Index: ${item.Index}`;
                el.dataset.index = item.Index;

                el.addEventListener('click', () => {
                    document.querySelectorAll('.sheet-swatch').forEach(s => s.classList.remove('selected'));
                    el.classList.add('selected');
                    selectMatcherColor(item);
                });

                grid.appendChild(el);
            });

            // Auto Select first
            if (MATCH_DATA.length > 0) {
                const first = grid.children[0];
                first.classList.add('selected');
                selectMatcherColor(MATCH_DATA[0]);
            }
        }

        function selectMatcherColor(item) {
            // Update Preview
            document.getElementById('matcher-preview-color').style.backgroundColor = item.Hex;

            // Update Data
            document.getElementById('matcher-data-hex').textContent = item.Hex;
            document.getElementById('matcher-data-rgb').textContent = `${item.R}, ${item.G}, ${item.B}`;
            document.getElementById('matcher-data-hsv').textContent = `${Math.round(item.H)}, ${Math.round(item.S * 100)}%, ${Math.round(item.V * 100)}%`;

            document.getElementById('matcher-data-index').textContent = item.Index;

            // Calc Grid Pos
            // Row = floor(index/8)+1
            // Column = (index%8)+1
            const row = Math.floor(item.Index / 8) + 1;
            const col = (item.Index % 8) + 1;

            document.getElementById('matcher-data-row').textContent = row;
            document.getElementById('matcher-data-col').textContent = col;
        }





        // Theme Switcher Logic
        document.addEventListener('DOMContentLoaded', () => {
            const themeSelect = document.getElementById('theme-select');
            const headerThemeBtn = document.getElementById('header-theme-btn');

            // Apply Theme Function
            function applyTheme(theme) {
                document.body.classList.remove(
                    'theme-standard-light',
                    'theme-standard-dark',
                    'theme-hydaelyn-light',
                    'theme-og-classic-dark'
                );
                if (theme) {
                    document.body.classList.add(theme);
                }

                // Sync select dropdown
                if (themeSelect) {
                    themeSelect.value = theme;
                }
            }

            // Select Dropdown Listener
            if (themeSelect) {
                themeSelect.addEventListener('change', (e) => {
                    applyTheme(e.target.value);
                });
            }

            // Header Button Listener (Cycle)
            if (headerThemeBtn) {
                headerThemeBtn.addEventListener('click', () => {
                    const themes = [
                        '', // Default
                        'theme-standard-light',
                        'theme-standard-dark',
                        'theme-hydaelyn-light',
                        'theme-og-classic-dark'
                    ];

                    // Find current index
                    let currentTheme = '';
                    if (document.body.classList.contains('theme-standard-light')) currentTheme = 'theme-standard-light';
                    else if (document.body.classList.contains('theme-standard-dark')) currentTheme = 'theme-standard-dark';
                    else if (document.body.classList.contains('theme-hydaelyn-light')) currentTheme = 'theme-hydaelyn-light';
                    else if (document.body.classList.contains('theme-og-classic-dark')) currentTheme = 'theme-og-classic-dark';

                    let currentIndex = themes.indexOf(currentTheme);
                    let nextIndex = (currentIndex + 1) % themes.length;

                    applyTheme(themes[nextIndex]);
                });
            }
        });

    </script>
</body>

</html>